<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>MISTJ</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content=""><meta data-n-head="ssr" name="format-detection" content="telephone=no"><link data-n-head="ssr" rel="icon" type="image/png" href="/favicon.ico.png"><link rel="preload" href="/_nuxt/js/runtime.1637221086066.js" as="script"><link rel="preload" href="/_nuxt/js/commons/app.1637221086066.js" as="script"><link rel="preload" href="/_nuxt/js/vendors/app.1637221086066.js" as="script"><link rel="preload" href="/_nuxt/js/app.1637221086066.js" as="script"><link rel="preload" href="/_nuxt/js/pages/wiki.1637221086066.js" as="script"><link rel="preload" href="/_nuxt/js/pages/wiki/content/_slug.1637221086066.js" as="script"><style data-vue-ssr-id="1a114e69:0 5fd7ed67:0 21344d92:0 387be0d0:0 fa7ff0ca:0 7d957ac6:0 613f2bb0:0">*,:after,:before{box-sizing:inherit}html{box-sizing:border-box;font-size:62.5%}body{color:#333;margin:0;background-color:#fafafa;font-family:-apple-system,system-ui,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial;text-rendering:optimizelegibility;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;font-size:1.6em;font-weight:300;line-height:1.8em}@media only screen and (max-width:768px){body{font-size:1.6em;line-height:1.6em}}a{font-weight:300;color:#1565c0;text-decoration:none}a:focus,a:hover{text-decoration:underline}p{margin:2rem 0}h1,h2,h3,h4,h5,h6{font-family:Lato,Helvetica,sans-serif;font-weight:700;color:#000;margin:6.4rem 0 3.2rem}h1{font-size:3.2rem;line-height:3.6rem}@media only screen and (max-width:768px){h1{font-size:3rem;line-height:3.4rem}}h2{font-size:2.8rem;line-height:3.2rem}@media only screen and (max-width:768px){h2{font-size:2.6rem;line-height:3rem}}h3{font-size:2.4rem;line-height:2.8rem}@media only screen and (max-width:768px){h3{font-size:2.2rem;line-height:2.6rem}}h4{font-size:2.2rem;line-height:2.6rem}@media only screen and (max-width:768px){h4{font-size:2rem;line-height:2.4rem}}h5{font-size:2rem;line-height:2.4rem}@media only screen and (max-width:768px){h5{font-size:1.8rem;line-height:2.2rem}}h6{font-size:1.8rem;line-height:2.2rem}@media only screen and (max-width:768px){h6{font-size:1.6rem;line-height:2rem}}b,strong{font-weight:700}.highlight>div,.highlight>pre{margin:0 0 2rem;padding:1rem;border-radius:1rem}pre{display:block;font-family:"Source Code Pro","Lucida Console",monospace;font-size:1.6rem;font-weight:400;line-height:2.6rem;overflow-x:auto;margin:0}pre code{display:inline-block;background-color:inherit;color:inherit}code{font-family:"Source Code Pro","Lucida Console",monospace;font-weight:400;background-color:#e0e0e0;color:#333}blockquote{border-left:2px solid #e0e0e0;padding-left:2rem;line-height:2.2rem;font-weight:400;font-style:italic}td,th{padding:1.6rem}table{border-collapse:collapse}table td,table th{border:2px solid #000}table tr:first-child th{border-top:0}table tr:last-child td{border-bottom:0}table tr td:first-child,table tr th:first-child{border-left:0}table tr td:last-child,table tr th:last-child{border-right:0}img{max-width:100%}figure{text-align:center}.wrapper{display:flex;flex-direction:column;min-height:100vh;width:100%}.container{margin:0 auto;max-width:90rem;width:100%;padding-left:2rem;padding-right:2rem}.fas{font-weight:700}.float-right{float:right}.float-left{float:left}.fab{font-weight:400}.fas{font-weight:900}img.emoji{height:1em;width:1em;margin:0 .05em 0 .1em;vertical-align:-.1em}#tap-to-top{display:none!important;z-index:90;position:fixed;bottom:2em;right:2em;top:auto;left:auto;color:#fafafa;padding:10px 16px;border:1px solid #fafafa;background-color:#333;transition:color .2s ease,border-color .2s ease,background .2s ease,opacity .2s ease}.toc-fixed #tap-to-top{display:inline-block!important}.flex{display:flex}.flex-y-center{display:flex;justify-content:center}.flex-align-center{display:flex;align-items:center}.content{flex:1;display:flex;margin-top:1.6rem;margin-bottom:3.2rem}.content article{width:100%;word-break:break-word;font-size:25.6px;font-size:1.6rem;line-height:1.6}.content article h1,.content article h1 *,.content article h2,.content article h2 *,.content article h3,.content article h3 *,.content article h4,.content article h4 *,.content article h5,.content article h5 *,.content article h6,.content article h6 *{word-break:break-all}.content article header{margin-top:6.4rem;margin-bottom:3.2rem}.content article header h1{font-size:4.2rem;line-height:4.6rem;margin:0}@media only screen and (max-width:768px){.content article header h1{font-size:4rem;line-height:4.4rem}}.content article footer{margin-top:4rem}.content article footer .see-also,.content article footer .see-also h3{margin:3.2rem 0}.content article div,.content article p{-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.content article a:hover{background:0 0}.content article img{margin:10px;padding:5px;max-width:100%;background:#fff;border:1px solid #bbb;box-shadow:1px 1px 3px #d4d4d4}.content article blockquote{display:block;position:relative;padding:15px 25px;text-align:left;line-height:inherit}.content article blockquote:before{position:absolute}.content article blockquote *{margin:0;font-size:inherit}.content article table{margin:0 0 1.2em;border:none}.content article table td,.content article table th{border:none}.content article ul{margin:0 0 1.2em;padding:0;list-style:disc}.content article ul li{font-size:inherit;list-style:disc}.content article ul li *{margin:0;text-align:left;text-align:initial}.content article ol{list-style:decimal;margin:0;padding:0}.content article ol li{list-style:decimal}.content article ol li *{margin:0;text-align:left;text-align:initial}.content article li ol,.content article li ul{margin-left:2em}.content article li ul{list-style:circle}.content article .article-center{text-align:center;display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;-webkit-box-orient:vertical}.content article .article-center-small{display:inline-flex}.content article .article-center-small img{margin:0;padding:0;border:0;box-shadow:none}.content article .article-nobeautify{margin:0;padding:0;border:0;box-shadow:0 0 0}.content article h1,.content article h2,.content article h3,.content article h4,.content article h5,.content article h6{position:relative;margin-top:1em;margin-bottom:1pc;font-weight:700;line-height:1.4;text-align:left;color:#333}.content article h1{padding-bottom:.3em;font-size:57.6px;font-size:3.6rem;line-height:1.2}.content article h2{padding-bottom:.3em;font-size:44.8px;font-size:2.8rem;line-height:1.225}.content article h3{font-size:38.4px;font-size:2.4rem;line-height:1.43}.content article h4{font-size:32px;font-size:2rem}.content article h5,.content article h6{font-size:25.6px;font-size:1.6rem}.content article h6{color:#777}.content article ol,.content article ul{list-style-type:disc;padding:0 0 0 2em}.content article ol ol,.content article ul ol{list-style-type:lower-roman}.content article ol ol ol,.content article ol ul ol,.content article ul ol ol,.content article ul ul ol{list-style-type:lower-alpha}.content article table{width:100%;overflow:auto;word-break:normal;word-break:keep-all}.content article table tr{background-color:#fff;border-top:1px solid #ccc}.content article table th{font-weight:700}.content article table td,.content article table th{padding:6px 13px;border:1px solid #ddd}.content article blockquote{border-left:4px solid #ddd}.content article strong{font-weight:600!important;color:#000!important}.content article a:active,.content article a:focus,.content article a:hover{color:#4183c4;text-decoration:underline}.content article pre code,.content article pre code *{font-size:15px}.content article li code,.content article p code{border-radius:3px;font-size:90%;line-height:1.2;padding:.1rem .2rem;color:#d73e48;background:#fcf2f2}.content article h1,.content article h2{padding-top:1.7rem;padding-bottom:1.2rem;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAABCAYAAACsXeyTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAFUlEQVQIHWNIS0sr/v//PwMMDzY+ADqMahlW4J91AAAAAElFTkSuQmCC) 0 100% repeat-x}.content article,.content article *,.content article div,.content article p{font-weight:400;line-height:1.8}.content .co-width-2{width:16.7%}.content .co-width-10{width:83.3%}.content .co-width-12{width:100%}.content .container{max-width:90rem}.content #body-wrapper{display:flex}.content .post .post-title{margin-bottom:.75em}.content .post .post-meta .fa{text-align:center;width:1.6rem;margin-left:0;margin-right:.5rem}.content .post .post-meta .date .posted-on,.content .post .post-meta .date .reading-time{margin-left:0;margin-right:1.5rem}@media only screen and (max-width:840px){.content #toc-slider{display:none}.content .body-content{width:100%}}.content figure{margin:0;padding:0}.content figcaption p{text-align:center;font-style:italic;font-size:1.6rem;margin:0}.avatar img{width:20rem;height:auto;border-radius:50%}@media only screen and (max-width:768px){.avatar img{width:10rem}}.list ul{margin:3.2rem 0;list-style:none;padding:0}.list ul li{font-size:1.8rem}@media only screen and (max-width:768px){.list ul li{margin:1.6rem 0}}.list ul li .date{display:inline-block;flex:1;width:20rem;text-align:right;margin-right:3rem}@media only screen and (max-width:768px){.list ul li .date{display:block;text-align:left}}.list ul li .title{font-size:1.8rem;flex:2;color:#333;font-family:Lato,Helvetica,sans-serif;font-weight:700}.list ul li .title:focus,.list ul li .title:hover{color:#1565c0}@media only screen and (min-width:768.1px){.list ul:not(.pagination) li{display:flex}}.centered{display:flex;align-items:center;justify-content:center}.centered .about{text-align:center}.centered .about h1{margin-top:2rem;margin-bottom:.5rem}.centered .about h2{margin-top:1rem;margin-bottom:.5rem;font-size:2.4rem}@media only screen and (max-width:768px){.centered .about h2{font-size:2rem}}.centered .about ul{list-style:none;margin:3rem 0 1rem;padding:0}.centered .about ul li{display:inline-block;position:relative}.centered .about ul li a{color:#333;text-transform:uppercase;margin-left:1rem;margin-right:1rem;font-size:1.6rem}.centered .about ul li a:focus,.centered .about ul li a:hover{color:#1565c0}@media only screen and (max-width:768px){.centered .about ul li a{font-size:1.4rem}}.centered .about ul li a i{font-size:3.2rem}.centered .error{text-align:center}.centered .error h1{margin-top:2rem;margin-bottom:.5rem;font-size:4.6rem}@media only screen and (max-width:768px){.centered .error h1{font-size:3.2rem}}.centered .error h2{margin-top:2rem;margin-bottom:3.2rem;font-size:3.2rem}@media only screen and (max-width:768px){.centered .error h2{font-size:2.8rem}}#toc-slider{position:absolute;margin-left:15px}#TableOfContents{padding-left:12px;border-left:2px solid rgba(88,88,88,.1);overflow:hidden;max-height:calc(100vh - 60px)}#TableOfContents ul li{list-style-type:none;font-size:13px;margin-top:.4rem}#TableOfContents ul{margin-top:.1rem;margin-bottom:.1rem}#TableOfContents li,#TableOfContents ul{margin-left:5px;padding-left:0}#TableOfContents ul ul{margin-left:.6rem}#TableOfContents :hover{overflow:auto}#TableOfContents a{color:#555}#TableOfContents a.highlighted{color:#1565c0}#TableOfContents:hover{overflow:auto}.toc-fixed{position:fixed!important;top:15px;margin-top:0;overflow:hidden;z-index:1}.wiki-content-aside{left:250px;right:0}.wiki-category-aside,.wiki-content-aside{position:fixed;top:0;bottom:0;overflow:auto}.wiki-category-aside{left:0;width:250px;padding-left:10px}.wiki-category-aside a{color:inherit}.wiki-category-aside .navigation{cursor:pointer;padding-top:20px;display:flex;align-items:center;justify-content:center}.wiki-category-aside ul{list-style:none;padding-left:10px}.wiki-category-aside li{list-style:none;margin:10px 15px}.wiki-category-aside li .title{font-size:14px;font-weight:400}.pagination{margin-top:6rem;text-align:center;font-family:Lato,Helvetica,sans-serif}.pagination li{display:inline;text-align:center;font-weight:700}.pagination li span{margin:0;text-align:center;width:3.2rem}.pagination li a{font-weight:300}.pagination li a span{margin:0;text-align:center;width:3.2rem}.footer{width:100%;text-align:center;line-height:2rem;margin-bottom:1rem}.footer a{color:#1565c0}main.colorscheme-dark a{color:#42a5f5}main.colorscheme-dark h1,main.colorscheme-dark h2,main.colorscheme-dark h3,main.colorscheme-dark h4,main.colorscheme-dark h5,main.colorscheme-dark h6{color:#dadada}main.colorscheme-dark code{background-color:#424242;color:#dadada}main.colorscheme-dark pre code{background-color:inherit;color:inherit}main.colorscheme-dark blockquote{border-left:2px solid #424242}main.colorscheme-dark table td,main.colorscheme-dark table th{border:2px solid #dadada}main.colorscheme-dark blockquote{border-left:4px solid #424242}main.colorscheme-dark #TableOfContents a{color:#dadada}main.colorscheme-dark #TableOfContents a.highlighted{color:#79aae6}@media (prefers-color-scheme:dark){main.colorscheme-auto{color:#dadada;background-color:#212121}main.colorscheme-auto a{color:#42a5f5}main.colorscheme-auto h1,main.colorscheme-auto h2,main.colorscheme-auto h3,main.colorscheme-auto h4,main.colorscheme-auto h5,main.colorscheme-auto h6{color:#dadada}main.colorscheme-auto code{background-color:#424242;color:#dadada}main.colorscheme-auto pre code{background-color:inherit;color:inherit}main.colorscheme-auto blockquote{border-left:2px solid #424242}main.colorscheme-auto table td,main.colorscheme-auto table th{border:2px solid #dadada}main.colorscheme-auto blockquote{border-left:4px solid #424242}main.colorscheme-auto #TableOfContents a{color:#dadada}main.colorscheme-auto #TableOfContents a.highlighted{color:#79aae6}}main.colorscheme-dark{color:#dadada;background-color:#212121}main.colorscheme-dark .content article strong{color:#dadada!important}main.colorscheme-dark .content .list ul li .title{color:#dadada}main.colorscheme-dark .content .list ul li .title:focus,main.colorscheme-dark .content .list ul li .title:hover{color:#42a5f5}main.colorscheme-dark .content .centered .about ul li a{color:#dadada}main.colorscheme-dark .content .centered .about ul li a:focus,main.colorscheme-dark .content .centered .about ul li a:hover{color:#42a5f5}@media (prefers-color-scheme:dark){main.colorscheme-auto{color:#dadada;background-color:#212121}main.colorscheme-auto .content article strong{color:#dadada!important}main.colorscheme-auto .content .list ul li .title{color:#dadada}main.colorscheme-auto .content .list ul li .title:focus,main.colorscheme-auto .content .list ul li .title:hover{color:#42a5f5}main.colorscheme-auto .content .centered .about ul li a{color:#dadada}main.colorscheme-auto .content .centered .about ul li a:focus,main.colorscheme-auto .content .centered .about ul li a:hover{color:#42a5f5}}main.colorscheme-dark .footer a{color:#42a5f5}@media (prefers-color-scheme:dark){main.colorscheme-auto .footer a{color:#42a5f5}}.container{max-width:1100px!important;width:80%}.colorscheme-dark .navigation .navigation-list .navigation-item .dropdown-content{background-color:#212121}.colorscheme-dark pre{color:#333}.wiki{width:100%!important;max-width:100%!important}.wiki #body-wrapper{width:100%}.wiki .post{max-width:100%!important}.wiki .wiki-cate-aside{font-weight:400;display:inline;float:left;visibility:visible;font-size:13px;width:240px;padding:0 20px 20px}.wiki .wiki-cate-aside ul{margin:0}.wiki .wiki-cate-aside a{font-size:13px;color:#555;font-weight:400}.wiki .wiki-cate-aside ol,.wiki .wiki-cate-aside ul{list-style:none;padding-left:20px}#articleWikiWrap{margin-left:240px}@media only screen and (max-width:900px){#articleWikiWrap{margin-left:0}#articleWikiAside{display:none}}code[class*=language-],pre[class*=language-]{color:#e3eaf2;background:0 0;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#3c526d}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#3c526d}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#111b27}:not(pre)>code[class*=language-]{padding:.1em .3em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8da1b9}.token.punctuation{color:#e3eaf2}.token.delimiter.important,.token.selector .parent,.token.tag,.token.tag .token.punctuation{color:#6cc}.token.attr-name,.token.boolean,.token.boolean.important,.token.constant,.token.number,.token.selector .token.attribute{color:#e6d37a}.token.class-name,.token.key,.token.parameter,.token.property,.token.property-access,.token.variable{color:#6cb8e6}.token.attr-value,.token.color,.token.inserted,.token.selector .token.value,.token.string,.token.string .token.url-link{color:#91d076}.token.builtin,.token.keyword-array,.token.package,.token.regex{color:#f4adf4}.token.function,.token.selector .token.class,.token.selector .token.id{color:#c699e3}.token.atrule .token.rule,.token.combinator,.token.keyword,.token.operator,.token.pseudo-class,.token.pseudo-element,.token.selector,.token.unit{color:#e9ae7e}.token.deleted,.token.important{color:#cd6660}.token.keyword-this,.token.this{color:#6cb8e6}.token.bold,.token.important,.token.keyword-this,.token.this{font-weight:700}.token.delimiter.important{font-weight:inherit}.token.italic{font-style:italic}.token.entity{cursor:help}.language-markdown .token.title,.language-markdown .token.title .token.punctuation{color:#6cb8e6;font-weight:700}.language-markdown .token.blockquote.punctuation{color:#f4adf4}.language-markdown .token.code{color:#6cc}.language-markdown .token.hr.punctuation{color:#6cb8e6}.language-markdown .token.url .token.content{color:#91d076}.language-markdown .token.url-link{color:#e6d37a}.language-markdown .token.list.punctuation{color:#f4adf4}.language-json .token.operator,.language-markdown .token.table-header{color:#e3eaf2}.language-scss .token.variable{color:#6cc}.token.cr:before,.token.lf:before,.token.space:before,.token.tab:not(:empty):before{color:#8da1b9}div.code-toolbar>.toolbar a,div.code-toolbar>.toolbar button{color:#111b27;background:#6cb8e6}div.code-toolbar>.toolbar a:focus,div.code-toolbar>.toolbar a:hover,div.code-toolbar>.toolbar button:focus,div.code-toolbar>.toolbar button:hover{color:#111b27;background:rgba(108,184,230,.8549);text-decoration:none}div.code-toolbar>.toolbar span,div.code-toolbar>.toolbar span:focus,div.code-toolbar>.toolbar span:hover{color:#111b27;background:#8da1b9}.line-highlight{background:rgba(60,82,109,.37255);background:linear-gradient(90deg,rgba(60,82,109,.37255) 70%,rgba(60,82,109,.33333))}.line-highlight:before,.line-highlight[data-end]:after{background-color:#8da1b9;color:#111b27;box-shadow:0 1px #3c526d}pre[id].linkable-line-numbers span.line-numbers-rows>span:hover:before{background-color:rgba(141,161,185,.09412)}.line-numbers .line-numbers-rows{border-right:1px solid #0b121b;background:rgba(11,18,27,.47843)}.line-numbers-rows>span:before{color:rgba(141,161,185,.8549)}.rainbow-braces .token.punctuation.brace-level-1,.rainbow-braces .token.punctuation.brace-level-5,.rainbow-braces .token.punctuation.brace-level-9{color:#e6d37a}.rainbow-braces .token.punctuation.brace-level-10,.rainbow-braces .token.punctuation.brace-level-2,.rainbow-braces .token.punctuation.brace-level-6{color:#f4adf4}.rainbow-braces .token.punctuation.brace-level-11,.rainbow-braces .token.punctuation.brace-level-3,.rainbow-braces .token.punctuation.brace-level-7{color:#6cb8e6}.rainbow-braces .token.punctuation.brace-level-12,.rainbow-braces .token.punctuation.brace-level-4,.rainbow-braces .token.punctuation.brace-level-8{color:#c699e3}pre.diff-highlight>code .token.deleted:not(.prefix),pre>code.diff-highlight .token.deleted:not(.prefix){background-color:rgba(205,102,96,.12157)}pre.diff-highlight>code .token.inserted:not(.prefix),pre>code.diff-highlight .token.inserted:not(.prefix){background-color:rgba(145,208,118,.12157)}.command-line-prompt{border-right:1px solid #0b121b}.command-line-prompt>span:before{color:rgba(141,161,185,.8549)}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}.wiki-content-aside[data-v-468ad0ce]{margin:0;padding-right:0;max-width:100%!important;padding-bottom:20px}a[data-v-358b86fc]{font-weight:400;word-break:break-all;color:inherit}.side-highlighted[data-v-358b86fc]{color:#1565c0}main.colorscheme-dark a[data-v-358b86fc]{color:inherit}main.colorscheme-dark .side-highlighted[data-v-358b86fc]{color:#1565c0}li[data-v-358b86fc]{margin:5px;line-height:1.5}li ul[data-v-358b86fc]{padding-left:0}</style><link rel="preload" href="/_nuxt/static/1637221111/wiki/content/Redis-redis-jedis/state.js" as="script"><link rel="preload" href="/_nuxt/static/1637221111/wiki/content/Redis-redis-jedis/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1637221111/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><main class="wrapper colorscheme-auto"><div class="content" data-v-468ad0ce><div class="wiki-category-aside" data-v-468ad0ce><div class="navigation" data-v-468ad0ce><div data-v-468ad0ce><fa icon="fa,arrow-left" class="fa" data-v-468ad0ce></fa> <span style="margin-left:8px" data-v-468ad0ce>Go back</span></div> <div style="padding:0 20px" data-v-468ad0ce>
        Home
      </div></div> <ul data-v-358b86fc data-v-468ad0ce><li class="directory" data-v-358b86fc><a href="#" data-role="directory" data-v-358b86fc><fa icon="fa,angle-down" class="fa" data-v-358b86fc></fa>
      Java
    </a> <ul style="display:block" data-v-358b86fc><li class="file" data-v-358b86fc><a href="/wiki/content/Java-java-8-install-on-centos" class="title" data-v-358b86fc>
          阿里云centos上安装jdk1.8（yum）
        </a></li><li class="file" data-v-358b86fc><a href="/wiki/content/Java-java-mvn-proxy" class="title" data-v-358b86fc>
          mvn走代理的方法
        </a></li><li class="file" data-v-358b86fc><a href="/wiki/content/Java-java-plan" class="title" data-v-358b86fc>
          JAVA学习路线
        </a></li> <li class="directory" data-v-358b86fc><ul data-v-358b86fc data-v-358b86fc><li class="directory" data-v-358b86fc><a href="#" data-role="directory" data-v-358b86fc><fa icon="fa,angle-down" class="fa" data-v-358b86fc></fa>
      3part
    </a> <ul style="display:block" data-v-358b86fc><li class="file" data-v-358b86fc><a href="/wiki/content/3part-kafka-basic" class="title" data-v-358b86fc>
          kafka基本概念理解
        </a></li><li class="file" data-v-358b86fc><a href="/wiki/content/3part-%E7%B1%BB%E5%BA%93reflections%E7%9A%84%E4%BD%BF%E7%94%A8" class="title" data-v-358b86fc>
          类库reflections的使用
        </a></li> <li class="directory" data-v-358b86fc><!----></li></ul></li><li class="directory" data-v-358b86fc><a href="#" data-role="directory" data-v-358b86fc><fa icon="fa,angle-down" class="fa" data-v-358b86fc></fa>
      Java
    </a> <ul style="display:block" data-v-358b86fc><li class="file" data-v-358b86fc><a href="/wiki/content/Java-Collection%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F" class="title" data-v-358b86fc>
          Collection及其衍生
        </a></li> <li class="directory" data-v-358b86fc><!----></li></ul></li><li class="directory" data-v-358b86fc><a href="#" data-role="directory" data-v-358b86fc><fa icon="fa,angle-down" class="fa" data-v-358b86fc></fa>
      Mybatis
    </a> <ul style="display:block" data-v-358b86fc><li class="file" data-v-358b86fc><a href="/wiki/content/Mybatis-mybatis-dyna-sql" class="title" data-v-358b86fc>
          mybatis中#和$的简单理解
        </a></li><li class="file" data-v-358b86fc><a href="/wiki/content/Mybatis-mybatis-foreach" class="title" data-v-358b86fc>
          mybatis中foreach以及注意事项
        </a></li><li class="file" data-v-358b86fc><a href="/wiki/content/Mybatis-mybatis-resultmap" class="title" data-v-358b86fc>
          mybatis一对多、一对一
        </a></li> <li class="directory" data-v-358b86fc><!----></li></ul></li><li class="directory" data-v-358b86fc><a href="#" data-role="directory" data-v-358b86fc><fa icon="fa,angle-down" class="fa" data-v-358b86fc></fa>
      Redis
    </a> <ul style="display:block" data-v-358b86fc><li class="file" data-v-358b86fc><a href="/wiki/content/Redis-redis-basic" class="title" data-v-358b86fc>
          1.Redis基本理解及使用
        </a></li><li class="file" data-v-358b86fc><a href="/wiki/content/Redis-redis-jedis" aria-current="page" class="title nuxt-link-exact-active nuxt-link-active side-highlighted" data-v-358b86fc>
          2.Redis客户端：Jedis
        </a></li><li class="file" data-v-358b86fc><a href="/wiki/content/Redis-redis-sping-cache" class="title" data-v-358b86fc>
          3.Spring中的缓存抽象及SpringDataRedis使用
        </a></li> <li class="directory" data-v-358b86fc><!----></li></ul></li><li class="directory" data-v-358b86fc><a href="#" data-role="directory" data-v-358b86fc><fa icon="fa,angle-down" class="fa" data-v-358b86fc></fa>
      Spring
    </a> <ul style="display:block" data-v-358b86fc><li class="file" data-v-358b86fc><a href="/wiki/content/Spring-SpringMVC%E4%B8%AD%E7%9A%84ModelModelMapModelAndView" class="title" data-v-358b86fc>
          SpringMVC中的Model、ModelMap、ModelAndView(转载)
        </a></li><li class="file" data-v-358b86fc><a href="/wiki/content/Spring-java-requestmap" class="title" data-v-358b86fc>
          Java @RequestMapping、@GetMapping、@PostMapping
        </a></li><li class="file" data-v-358b86fc><a href="/wiki/content/Spring-java-static-autowired" class="title" data-v-358b86fc>
          Spring @Autowired注解在utils静态工具类非controller普通类中使用(转）
        </a></li><li class="file" data-v-358b86fc><a href="/wiki/content/Spring-spring-validation" class="title" data-v-358b86fc>
          spring之表单验证
        </a></li><li class="file" data-v-358b86fc><a href="/wiki/content/Spring-springboot-jsonconvert" class="title" data-v-358b86fc>
          springboot之Json转换类型嵌套问题
        </a></li><li class="file" data-v-358b86fc><a href="/wiki/content/Spring-springboot-kaptcha" class="title" data-v-358b86fc>
          springboot之kaptcha验证码
        </a></li><li class="file" data-v-358b86fc><a href="/wiki/content/Spring-springboot-schedule" class="title" data-v-358b86fc>
          spring框中简单的任务调度
        </a></li> <li class="directory" data-v-358b86fc><!----></li></ul></li><li class="directory" data-v-358b86fc><a href="#" data-role="directory" data-v-358b86fc><fa icon="fa,angle-down" class="fa" data-v-358b86fc></fa>
      idea
    </a> <ul style="display:block" data-v-358b86fc><li class="file" data-v-358b86fc><a href="/wiki/content/idea-2019-01-28" class="title" data-v-358b86fc>
          (JB)idea添加项目依赖、以及打包问题
        </a></li><li class="file" data-v-358b86fc><a href="/wiki/content/idea-error-javacTask-x" class="title" data-v-358b86fc>
          [idea] 编译报错 javacTask:源发行版 8 需要目标发行版 1.8
        </a></li><li class="file" data-v-358b86fc><a href="/wiki/content/idea-idea-j-warnning" class="title" data-v-358b86fc>
          intelliJ IDEA:JAVA文件名黄色J警告问题
        </a></li><li class="file" data-v-358b86fc><a href="/wiki/content/idea-idea-svn" class="title" data-v-358b86fc>
          (JB)IDEA导入svn项目二三谈
        </a></li><li class="file" data-v-358b86fc><a href="/wiki/content/idea-springboot-start" class="title" data-v-358b86fc>
          intelliJ idea:springboot项目初始化
        </a></li> <li class="directory" data-v-358b86fc><!----></li></ul></li><li class="directory" data-v-358b86fc><a href="#" data-role="directory" data-v-358b86fc><fa icon="fa,angle-down" class="fa" data-v-358b86fc></fa>
      代码段
    </a> <ul style="display:block" data-v-358b86fc><li class="file" data-v-358b86fc><a href="/wiki/content/%E4%BB%A3%E7%A0%81%E6%AE%B5-java-8-rsa" class="title" data-v-358b86fc>
          rsa加密解密
        </a></li><li class="file" data-v-358b86fc><a href="/wiki/content/%E4%BB%A3%E7%A0%81%E6%AE%B5-springboot-download-config" class="title" data-v-358b86fc>
          (spring boot)虚拟目录配置、文件下载
        </a></li> <li class="directory" data-v-358b86fc><!----></li></ul></li><li class="directory" data-v-358b86fc><a href="#" data-role="directory" data-v-358b86fc><fa icon="fa,angle-down" class="fa" data-v-358b86fc></fa>
      微服务
    </a> <ul style="display:block" data-v-358b86fc><li class="file" data-v-358b86fc><a href="/wiki/content/%E5%BE%AE%E6%9C%8D%E5%8A%A1-feign-pass-http-header" class="title" data-v-358b86fc>
          feign请求头丢失
        </a></li> <li class="directory" data-v-358b86fc><!----></li></ul></li></ul></li></ul></li></ul></div> <div class="wiki-content-aside" data-v-468ad0ce><section class="container post" style="width:100%" data-v-468ad0ce><article data-v-468ad0ce><header data-v-17b8de7f data-v-468ad0ce><div class="post-title" data-v-17b8de7f><h1 class="title" data-v-17b8de7f>2.Redis客户端：Jedis</h1></div> <div class="post-meta" data-v-17b8de7f><div class="date" data-v-17b8de7f><span class="posted-on" data-v-17b8de7f><fa icon="fa,calendar-alt" class="fa" data-v-17b8de7f></fa> <time datetime="2020-06-25 11:32:22" data-v-17b8de7f>
                June 5, 2019
              </time></span></div> <div class="categories" data-v-17b8de7f><fa icon="fa,folder" class="fa" data-v-17b8de7f></fa> <a href="/wiki/#Java" data-v-17b8de7f> Java</a></div> <!----></div></header> <aside id="body-wrapper" data-v-468ad0ce><div id="contents" class="body-content co-width-10" data-v-468ad0ce><div class="nuxt-content" data-v-468ad0ce data-v-468ad0ce><h2 id="spring-data-redis" data-v-468ad0ce data-v-468ad0ce><a href="#spring-data-redis" aria-hidden="true" tabindex="-1" data-v-468ad0ce data-v-468ad0ce><span class="icon icon-link" data-v-468ad0ce data-v-468ad0ce></span></a>Spring Data Redis</h2>
<ul data-v-468ad0ce data-v-468ad0ce>
<li data-v-468ad0ce data-v-468ad0ce><code data-v-468ad0ce data-v-468ad0ce>Spring Data</code>: Spring Data的任务是为数据访问提供熟悉且一致的基于Spring的编程模型，同时仍保留底层数据存储的特​​殊特性。</li>
<li data-v-468ad0ce data-v-468ad0ce><code data-v-468ad0ce data-v-468ad0ce>Spring Data Redis</code>: 是Spring Data家族的一部分，可以从Spring应用程序轻松配置和访问Redis。</li>
</ul>
<p data-v-468ad0ce data-v-468ad0ce>它提供了与store交互的低级和高级抽象，把用户从基础设施问题(基础设施问题)中解救出来。</p>
<p data-v-468ad0ce data-v-468ad0ce>Spring对Redis的支持</p>
<ul data-v-468ad0ce data-v-468ad0ce>
<li data-v-468ad0ce data-v-468ad0ce>Spring Data Redis
<ul data-v-468ad0ce data-v-468ad0ce>
<li data-v-468ad0ce data-v-468ad0ce>支持的客户端Jedis / Lettuce / Redisson等</li>
<li data-v-468ad0ce data-v-468ad0ce>RedisTemplate</li>
<li data-v-468ad0ce data-v-468ad0ce>Repository支持</li>
</ul>
</li>
</ul>
<p data-v-468ad0ce data-v-468ad0ce>Jedis支持redis的哪些特性:</p>
<ul data-v-468ad0ce data-v-468ad0ce>
<li data-v-468ad0ce data-v-468ad0ce>排序 Sorting</li>
<li data-v-468ad0ce data-v-468ad0ce>连接  Connection handling</li>
<li data-v-468ad0ce data-v-468ad0ce>Commands operating on any kind of values</li>
<li data-v-468ad0ce data-v-468ad0ce>Commands operating on string values</li>
<li data-v-468ad0ce data-v-468ad0ce>Commands operating on hashes</li>
<li data-v-468ad0ce data-v-468ad0ce>Commands operating on lists</li>
<li data-v-468ad0ce data-v-468ad0ce>Commands operating on sets</li>
<li data-v-468ad0ce data-v-468ad0ce>Commands operating on sorted sets</li>
<li data-v-468ad0ce data-v-468ad0ce>事务 Transactions</li>
<li data-v-468ad0ce data-v-468ad0ce>Pipelining</li>
<li data-v-468ad0ce data-v-468ad0ce>发布/订阅 Publish/Subscribe</li>
<li data-v-468ad0ce data-v-468ad0ce>持久性控制命令 Persistence control commands</li>
<li data-v-468ad0ce data-v-468ad0ce>Remote server control commands</li>
<li data-v-468ad0ce data-v-468ad0ce>Connection pooling</li>
<li data-v-468ad0ce data-v-468ad0ce>Sharding (MD5, MurmurHash)</li>
<li data-v-468ad0ce data-v-468ad0ce>Key-tags for sharding</li>
<li data-v-468ad0ce data-v-468ad0ce>Sharding with pipelining</li>
<li data-v-468ad0ce data-v-468ad0ce>Scripting with pipelining</li>
<li data-v-468ad0ce data-v-468ad0ce>Redis Cluster</li>
</ul>
<h2 id="jedis的使用" data-v-468ad0ce data-v-468ad0ce><a href="#jedis%E7%9A%84%E4%BD%BF%E7%94%A8" aria-hidden="true" tabindex="-1" data-v-468ad0ce data-v-468ad0ce><span class="icon icon-link" data-v-468ad0ce data-v-468ad0ce></span></a>Jedis的使用</h2>
<ul data-v-468ad0ce data-v-468ad0ce>
<li data-v-468ad0ce data-v-468ad0ce>Jedis不是线程安全的</li>
<li data-v-468ad0ce data-v-468ad0ce>通过JedisPool获取Jedis实例</li>
<li data-v-468ad0ce data-v-468ad0ce>直接使用Jedis中的方法</li>
</ul>
<h3 id="简单示例" data-v-468ad0ce data-v-468ad0ce><a href="#%E7%AE%80%E5%8D%95%E7%A4%BA%E4%BE%8B" aria-hidden="true" tabindex="-1" data-v-468ad0ce data-v-468ad0ce><span class="icon icon-link" data-v-468ad0ce data-v-468ad0ce></span></a>简单示例</h3>
<p data-v-468ad0ce data-v-468ad0ce>最简单的一个示例:</p>
<div class="nuxt-content-highlight" data-v-468ad0ce data-v-468ad0ce><pre class="language-java line-numbers" data-v-468ad0ce data-v-468ad0ce><code data-v-468ad0ce data-v-468ad0ce><span class="token comment" data-v-468ad0ce data-v-468ad0ce>/* 添加依赖
&lt;dependency>
    &lt;groupId>redis.clients&lt;/groupId>
    &lt;artifactId>jedis&lt;/artifactId>
&lt;/dependency>
*/</span>
<span class="token annotation punctuation" data-v-468ad0ce data-v-468ad0ce>@SpringBootApplication</span>
<span class="token annotation punctuation" data-v-468ad0ce data-v-468ad0ce>@Slf4j</span>
<span class="token keyword" data-v-468ad0ce data-v-468ad0ce>public</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>class</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>JedisDemoApplication</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>implements</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>ApplicationRunner</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>

    <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>public</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>static</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>void</span> <span class="token function" data-v-468ad0ce data-v-468ad0ce>main</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>[</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>]</span> args<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>
        <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>SpringApplication</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>run</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>JedisDemoApplication</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token keyword" data-v-468ad0ce data-v-468ad0ce>class</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> args<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
    <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>

    <span class="token annotation punctuation" data-v-468ad0ce data-v-468ad0ce>@Override</span>
    <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>public</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>void</span> <span class="token function" data-v-468ad0ce data-v-468ad0ce>run</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>ApplicationArguments</span> args<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>throws</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Exception</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>
        <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Jedis</span> jedis <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>new</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Jedis</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"localhost"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
        jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>set</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"foo"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"bar"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
        <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span> value <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>get</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"foo"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
        log<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>info</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span>value<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
    <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>
<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>
</code></pre></div>
<h3 id="多线程环境" data-v-468ad0ce data-v-468ad0ce><a href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%8E%AF%E5%A2%83" aria-hidden="true" tabindex="-1" data-v-468ad0ce data-v-468ad0ce><span class="icon icon-link" data-v-468ad0ce data-v-468ad0ce></span></a>多线程环境</h3>
<p data-v-468ad0ce data-v-468ad0ce>为什么使用<code data-v-468ad0ce data-v-468ad0ce>JedisPool</code>:</p>
<ul data-v-468ad0ce data-v-468ad0ce>
<li data-v-468ad0ce data-v-468ad0ce><strong data-v-468ad0ce data-v-468ad0ce>Jedis不是线程安全的</strong></li>
<li data-v-468ad0ce data-v-468ad0ce>创建大量的Jedis它意味着使用更多的套接字和连接，这也会导致奇怪的错误</li>
</ul>
<p data-v-468ad0ce data-v-468ad0ce>下面初始化一个池子,您可以静态地(statically)将池存储在某个地方，它是线程安全的。</p>
<div class="nuxt-content-highlight" data-v-468ad0ce data-v-468ad0ce><pre class="language-java line-numbers" data-v-468ad0ce data-v-468ad0ce><code data-v-468ad0ce data-v-468ad0ce><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>JedisPool</span> pool <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>new</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>JedisPool</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token keyword" data-v-468ad0ce data-v-468ad0ce>new</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>JedisPoolConfig</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"localhost"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
</code></pre></div>
<p data-v-468ad0ce data-v-468ad0ce>JedisPoolConfig包含许多有用的特定于Redis的连接池默认值。
JedisPool基于Commons Pool 2，因此您可能需要查看Commons Pool的配置。<a href="http://commons.apache.org/proper/commons-pool/apidocs/org/apache/commons/pool2/impl/GenericObjectPoolConfig.html" rel="nofollow noopener noreferrer" target="_blank" data-v-468ad0ce data-v-468ad0ce>点击此处查看更多。</a></p>
<p data-v-468ad0ce data-v-468ad0ce>Jedis实现了Closeable。因此，jedis实例将在执行完最后一个语句后自动关闭:</p>
<div class="nuxt-content-highlight" data-v-468ad0ce data-v-468ad0ce><pre class="language-java line-numbers" data-v-468ad0ce data-v-468ad0ce><code data-v-468ad0ce data-v-468ad0ce><span class="token comment" data-v-468ad0ce data-v-468ad0ce>/// Jedis实现了Closeable。因此，jedis实例将在最后一个语句后自动关闭。</span>
<span class="token keyword" data-v-468ad0ce data-v-468ad0ce>try</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Jedis</span> jedis <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> pool<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>getResource</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>
  <span class="token comment" data-v-468ad0ce data-v-468ad0ce>/// ... do stuff here ... for example</span>
  jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>set</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"foo"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"bar"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
  <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span> foobar <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>get</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"foo"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
  jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>zadd</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"sose"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>0</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"car"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span> jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>zadd</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"sose"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>0</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"bike"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span> 
  <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Set</span><span class="token generics" data-v-468ad0ce data-v-468ad0ce><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>&lt;</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>></span></span> sose <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>zrange</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"sose"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>0</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token operator" data-v-468ad0ce data-v-468ad0ce>-</span><span class="token number" data-v-468ad0ce data-v-468ad0ce>1</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>
<span class="token comment" data-v-468ad0ce data-v-468ad0ce>/// ... when closing your application:</span>
pool<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>close</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
</code></pre></div>
<p data-v-468ad0ce data-v-468ad0ce>或者也可以手动关闭Jedis:</p>
<div class="nuxt-content-highlight" data-v-468ad0ce data-v-468ad0ce><pre class="language-java line-numbers" data-v-468ad0ce data-v-468ad0ce><code data-v-468ad0ce data-v-468ad0ce><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Jedis</span> jedis <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>null</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
<span class="token keyword" data-v-468ad0ce data-v-468ad0ce>try</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>
  jedis <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> pool<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>getResource</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
  <span class="token comment" data-v-468ad0ce data-v-468ad0ce>/// ... do stuff here ... for example</span>
  jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>set</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"foo"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"bar"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
  <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span> foobar <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>get</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"foo"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
  jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>zadd</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"sose"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>0</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"car"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span> jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>zadd</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"sose"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>0</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"bike"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span> 
  <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Set</span><span class="token generics" data-v-468ad0ce data-v-468ad0ce><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>&lt;</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>></span></span> sose <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>zrange</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"sose"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>0</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token operator" data-v-468ad0ce data-v-468ad0ce>-</span><span class="token number" data-v-468ad0ce data-v-468ad0ce>1</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>finally</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>
  <span class="token comment" data-v-468ad0ce data-v-468ad0ce>// You have to close jedis object. If you don't close then</span>
  <span class="token comment" data-v-468ad0ce data-v-468ad0ce>// it doesn't release back to pool and you can't get a new</span>
  <span class="token comment" data-v-468ad0ce data-v-468ad0ce>// resource from pool.</span>
  <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>if</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span>jedis <span class="token operator" data-v-468ad0ce data-v-468ad0ce>!=</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>null</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>
    jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>close</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
  <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>
<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>
<span class="token comment" data-v-468ad0ce data-v-468ad0ce>/// ... when closing your application:</span>
pool<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>close</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
</code></pre></div>
<p data-v-468ad0ce data-v-468ad0ce>或者直接使用<code data-v-468ad0ce data-v-468ad0ce>@Bean</code>，Autowired方式</p>
<div class="nuxt-content-highlight" data-v-468ad0ce data-v-468ad0ce><pre class="language-java line-numbers" data-v-468ad0ce data-v-468ad0ce><code data-v-468ad0ce data-v-468ad0ce><span class="token comment" data-v-468ad0ce data-v-468ad0ce>//配置文件</span>
redis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span>host<span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span>localhost
redis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span>maxTotal<span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span><span class="token number" data-v-468ad0ce data-v-468ad0ce>5</span>
redis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span>maxIdle<span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span><span class="token number" data-v-468ad0ce data-v-468ad0ce>5</span>
redis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span>testOnBorrow<span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span><span class="token boolean" data-v-468ad0ce data-v-468ad0ce>true</span>

<span class="token comment" data-v-468ad0ce data-v-468ad0ce>//java类</span>
<span class="token annotation punctuation" data-v-468ad0ce data-v-468ad0ce>@SpringBootApplication</span>
<span class="token annotation punctuation" data-v-468ad0ce data-v-468ad0ce>@Slf4j</span>
<span class="token keyword" data-v-468ad0ce data-v-468ad0ce>public</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>class</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>JedisDemoApplication</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>implements</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>ApplicationRunner</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>

    <span class="token annotation punctuation" data-v-468ad0ce data-v-468ad0ce>@Autowired</span>
    <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>private</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>JedisPool</span> jedisPool<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
    <span class="token annotation punctuation" data-v-468ad0ce data-v-468ad0ce>@Autowired</span>
    <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>private</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>JedisPoolConfig</span> jedisPoolConfig<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>

    <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>public</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>static</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>void</span> <span class="token function" data-v-468ad0ce data-v-468ad0ce>main</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>[</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>]</span> args<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>
        <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>SpringApplication</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>run</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>JedisDemoApplication</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token keyword" data-v-468ad0ce data-v-468ad0ce>class</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> args<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
    <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>

    <span class="token annotation punctuation" data-v-468ad0ce data-v-468ad0ce>@Override</span>
    <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>public</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>void</span> <span class="token function" data-v-468ad0ce data-v-468ad0ce>run</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>ApplicationArguments</span> args<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>throws</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Exception</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>
        <span class="token function" data-v-468ad0ce data-v-468ad0ce>userPool</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
    <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>

    <span class="token annotation punctuation" data-v-468ad0ce data-v-468ad0ce>@Bean</span>
    <span class="token annotation punctuation" data-v-468ad0ce data-v-468ad0ce>@ConfigurationProperties</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"redis"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span> <span class="token comment" data-v-468ad0ce data-v-468ad0ce>//将redis开头的相关属性赋给它</span>
    <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>public</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>JedisPoolConfig</span> <span class="token function" data-v-468ad0ce data-v-468ad0ce>jedisPoolConfig</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>
        <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>return</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>new</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>JedisPoolConfig</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
    <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>

    <span class="token annotation punctuation" data-v-468ad0ce data-v-468ad0ce>@Bean</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span>destroyMethod <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"close"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span> <span class="token comment" data-v-468ad0ce data-v-468ad0ce>//关闭bean的时候</span>
    <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>public</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>JedisPool</span> <span class="token function" data-v-468ad0ce data-v-468ad0ce>jedisPool</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token annotation punctuation" data-v-468ad0ce data-v-468ad0ce>@Value</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"${redis.host}"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span> host<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>
        <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>return</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>new</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>JedisPool</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>jedisPoolConfig</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> host<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
    <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>

    <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>private</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>void</span> <span class="token function" data-v-468ad0ce data-v-468ad0ce>userPool</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>

        log<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>info</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span>jedisPool<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>toString</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>

        <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>try</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Jedis</span> jedis <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> jedisPool<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>getResource</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>
            jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>set</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"foo"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"bar"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
            <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span> foobar <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>get</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"foo"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
            jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>zadd</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"sose"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>0</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"car"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
            jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>zadd</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"sose"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>0</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"bike"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
            <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Set</span><span class="token generics" data-v-468ad0ce data-v-468ad0ce><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>&lt;</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>></span></span> sose <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>zrange</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"sose"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>0</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token operator" data-v-468ad0ce data-v-468ad0ce>-</span><span class="token number" data-v-468ad0ce data-v-468ad0ce>1</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
            log<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>info</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span>sose<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>toString</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
        <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>
        jedisPool<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>close</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
    <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>

<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>
</code></pre></div>
<h3 id="主从复制" data-v-468ad0ce data-v-468ad0ce><a href="#%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6" aria-hidden="true" tabindex="-1" data-v-468ad0ce data-v-468ad0ce><span class="icon icon-link" data-v-468ad0ce data-v-468ad0ce></span></a>主从复制</h3>
<p data-v-468ad0ce data-v-468ad0ce>Setting up master/slave distribution</p>
<p data-v-468ad0ce data-v-468ad0ce><strong data-v-468ad0ce data-v-468ad0ce>enable replication 启用复制</strong></p>
<p data-v-468ad0ce data-v-468ad0ce>Redis主要用于主/从(master/slave)分发。<br data-v-468ad0ce data-v-468ad0ce>
我们的直接请求地址必须指定主节点（redis服务器）。主节点会复制变更到'从服务器(也是redis服务器)'。  然后，读取请求可以（但不一定必须）发送到从站，这可以减轻主站的负担。</p>
<p data-v-468ad0ce data-v-468ad0ce>为了启用复制，有两种方法可以告诉从属服务器它将是给定主服务器的“slaveOf”：</p>
<ul data-v-468ad0ce data-v-468ad0ce>
<li data-v-468ad0ce data-v-468ad0ce>Redis Config中指定</li>
<li data-v-468ad0ce data-v-468ad0ce>在redis实例中指定 IP (或 "localhost") 和端口</li>
</ul>
<div class="nuxt-content-highlight" data-v-468ad0ce data-v-468ad0ce><pre class="language-java line-numbers" data-v-468ad0ce data-v-468ad0ce><code data-v-468ad0ce data-v-468ad0ce>jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>slaveof</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"localhost"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>6379</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>  <span class="token comment" data-v-468ad0ce data-v-468ad0ce>//  if the master is on the same PC which runs your code</span>
jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>slaveof</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"192.168.1.35"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>6379</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span> 
</code></pre></div>
<blockquote data-v-468ad0ce data-v-468ad0ce>
<p data-v-468ad0ce data-v-468ad0ce>Note: since Redis 2.6 slaves are read only by default, so write requests to them will result in an error.<br data-v-468ad0ce data-v-468ad0ce>
If you change that setting they will behave like normal redis servers and accept write requests without errors, but the changes won't be replicated, and hence those changes are at risk to be silently overwritten, if you mix up your jedis instances.</p>
</blockquote>
<p data-v-468ad0ce data-v-468ad0ce><em data-v-468ad0ce data-v-468ad0ce><strong data-v-468ad0ce data-v-468ad0ce>disable replication / upon failing master, promote a slave</strong></em></p>
<p data-v-468ad0ce data-v-468ad0ce>如果主节点挂了，你可能想设置从节点为新的节点。<br data-v-468ad0ce data-v-468ad0ce>
您应首先（尝试）首先禁用脱机主机的复制，然后，如果您有多个从站，则启用其余从站的复制到新主站：</p>
<div class="nuxt-content-highlight" data-v-468ad0ce data-v-468ad0ce><pre class="language-java line-numbers" data-v-468ad0ce data-v-468ad0ce><code data-v-468ad0ce data-v-468ad0ce>slave1jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>slaveofNoOne</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
slave2jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>slaveof</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"192.168.1.36"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>6379</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span> 
</code></pre></div>
<h2 id="jedis高级部分用法" data-v-468ad0ce data-v-468ad0ce><a href="#jedis%E9%AB%98%E7%BA%A7%E9%83%A8%E5%88%86%E7%94%A8%E6%B3%95" aria-hidden="true" tabindex="-1" data-v-468ad0ce data-v-468ad0ce><span class="icon icon-link" data-v-468ad0ce data-v-468ad0ce></span></a>Jedis高级部分用法</h2>
<h3 id="transactions" data-v-468ad0ce data-v-468ad0ce><a href="#transactions" aria-hidden="true" tabindex="-1" data-v-468ad0ce data-v-468ad0ce><span class="icon icon-link" data-v-468ad0ce data-v-468ad0ce></span></a>Transactions</h3>
<p data-v-468ad0ce data-v-468ad0ce>要在Jedis中执行事务，您必须将操作包装在事务块（transaction block）中，与pipelining非常相似：</p>
<div class="nuxt-content-highlight" data-v-468ad0ce data-v-468ad0ce><pre class="language-java line-numbers" data-v-468ad0ce data-v-468ad0ce><code data-v-468ad0ce data-v-468ad0ce>jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span>watch <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span>key1<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> key2<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
<span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Transaction</span> t <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>multi</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
t<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>set</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"foo"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"bar"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
t<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>exec</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
</code></pre></div>
<p data-v-468ad0ce data-v-468ad0ce>需要返回值的情况</p>
<div class="nuxt-content-highlight" data-v-468ad0ce data-v-468ad0ce><pre class="language-java line-numbers" data-v-468ad0ce data-v-468ad0ce><code data-v-468ad0ce data-v-468ad0ce><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Transaction</span> t <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>multi</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
t<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>set</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"fool"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"bar"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span> 
<span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Response</span><span class="token generics" data-v-468ad0ce data-v-468ad0ce><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>&lt;</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>></span></span> result1 <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> t<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>get</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"fool"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>

t<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>zadd</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"foo"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>1</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"barowitch"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span> t<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>zadd</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"foo"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>0</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"barinsky"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span> t<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>zadd</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"foo"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>0</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"barikoviev"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
<span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Response</span><span class="token generics" data-v-468ad0ce data-v-468ad0ce><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>&lt;</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Set</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>&lt;</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>></span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>></span></span> sose <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> t<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>zrange</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"foo"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>0</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token operator" data-v-468ad0ce data-v-468ad0ce>-</span><span class="token number" data-v-468ad0ce data-v-468ad0ce>1</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>   <span class="token comment" data-v-468ad0ce data-v-468ad0ce>// get the entire sortedset</span>
t<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>exec</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>                                              <span class="token comment" data-v-468ad0ce data-v-468ad0ce>// dont forget it</span>

<span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span> foolbar <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> result1<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>get</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>                       <span class="token comment" data-v-468ad0ce data-v-468ad0ce>// use Response.get() to retrieve things from a Response</span>
<span class="token keyword" data-v-468ad0ce data-v-468ad0ce>int</span> soseSize <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> sose<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>get</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>size</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>                      <span class="token comment" data-v-468ad0ce data-v-468ad0ce>// on sose.get() you can directly call Set methods!</span>

<span class="token comment" data-v-468ad0ce data-v-468ad0ce>// List&lt;Object> allResults = t.exec();                 // you could still get all results at once, as before</span>
</code></pre></div>
<p data-v-468ad0ce data-v-468ad0ce><code data-v-468ad0ce data-v-468ad0ce>exec()</code>的时候操作才会执行。</p>
<h3 id="pipelining" data-v-468ad0ce data-v-468ad0ce><a href="#pipelining" aria-hidden="true" tabindex="-1" data-v-468ad0ce data-v-468ad0ce><span class="icon icon-link" data-v-468ad0ce data-v-468ad0ce></span></a>Pipelining</h3>
<p data-v-468ad0ce data-v-468ad0ce>相关概念的理解:<a href="https://blog.csdn.net/u011489043/article/details/78769428" rel="nofollow noopener noreferrer" target="_blank" data-v-468ad0ce data-v-468ad0ce>管道(Pipelining) 一篇不错的文章</a>。<br data-v-468ad0ce data-v-468ad0ce>
简单理解就是命令的批处理。</p>
<div class="nuxt-content-highlight" data-v-468ad0ce data-v-468ad0ce><pre class="language-java line-numbers" data-v-468ad0ce data-v-468ad0ce><code data-v-468ad0ce data-v-468ad0ce><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Pipeline</span> p <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>pipelined</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
p<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>set</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"fool"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"bar"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span> 
p<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>zadd</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"foo"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>1</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"barowitch"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>  
p<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>zadd</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"foo"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>0</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"barinsky"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span> 
p<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>zadd</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"foo"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>0</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"barikoviev"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
<span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Response</span><span class="token generics" data-v-468ad0ce data-v-468ad0ce><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>&lt;</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>></span></span> pipeString <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> p<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>get</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"fool"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
<span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Response</span><span class="token generics" data-v-468ad0ce data-v-468ad0ce><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>&lt;</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Set</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>&lt;</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>></span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>></span></span> sose <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> p<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>zrange</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token string" data-v-468ad0ce data-v-468ad0ce>"foo"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token number" data-v-468ad0ce data-v-468ad0ce>0</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token operator" data-v-468ad0ce data-v-468ad0ce>-</span><span class="token number" data-v-468ad0ce data-v-468ad0ce>1</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
p<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>sync</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span> 

<span class="token keyword" data-v-468ad0ce data-v-468ad0ce>int</span> soseSize <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> sose<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>get</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>size</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
<span class="token class-name" data-v-468ad0ce data-v-468ad0ce>Set</span><span class="token generics" data-v-468ad0ce data-v-468ad0ce><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>&lt;</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>></span></span> setBack <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> sose<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>get</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
</code></pre></div>
<h3 id="订阅发布" data-v-468ad0ce data-v-468ad0ce><a href="#%E8%AE%A2%E9%98%85%E5%8F%91%E5%B8%83" aria-hidden="true" tabindex="-1" data-v-468ad0ce data-v-468ad0ce><span class="icon icon-link" data-v-468ad0ce data-v-468ad0ce></span></a>订阅/发布</h3>
<p data-v-468ad0ce data-v-468ad0ce>要在Redis中订阅频道，请创建JedisPubSub的实例并在Jedis实例上调用subscribe：</p>
<div class="nuxt-content-highlight" data-v-468ad0ce data-v-468ad0ce><pre class="language-java line-numbers" data-v-468ad0ce data-v-468ad0ce><code data-v-468ad0ce data-v-468ad0ce><span class="token keyword" data-v-468ad0ce data-v-468ad0ce>class</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>MyListener</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>extends</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>JedisPubSub</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>
        <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>public</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>void</span> <span class="token function" data-v-468ad0ce data-v-468ad0ce>onMessage</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span> channel<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span> message<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>
        <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>

        <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>public</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>void</span> <span class="token function" data-v-468ad0ce data-v-468ad0ce>onSubscribe</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span> channel<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>int</span> subscribedChannels<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>
        <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>

        <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>public</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>void</span> <span class="token function" data-v-468ad0ce data-v-468ad0ce>onUnsubscribe</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span> channel<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>int</span> subscribedChannels<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>
        <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>

        <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>public</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>void</span> <span class="token function" data-v-468ad0ce data-v-468ad0ce>onPSubscribe</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span> pattern<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>int</span> subscribedChannels<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>
        <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>

        <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>public</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>void</span> <span class="token function" data-v-468ad0ce data-v-468ad0ce>onPUnsubscribe</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span> pattern<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>int</span> subscribedChannels<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>
        <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>
        <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>public</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>void</span> <span class="token function" data-v-468ad0ce data-v-468ad0ce>onPMessage</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span> pattern<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span> channel<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>String</span> message<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span> <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>{</span>
        <span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>
<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>}</span>
<span class="token class-name" data-v-468ad0ce data-v-468ad0ce>MyListener</span> l <span class="token operator" data-v-468ad0ce data-v-468ad0ce>=</span> <span class="token keyword" data-v-468ad0ce data-v-468ad0ce>new</span> <span class="token class-name" data-v-468ad0ce data-v-468ad0ce>MyListener</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
jedis<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>.</span><span class="token function" data-v-468ad0ce data-v-468ad0ce>subscribe</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>(</span>l<span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>,</span> <span class="token string" data-v-468ad0ce data-v-468ad0ce>"foo"</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>)</span><span class="token punctuation" data-v-468ad0ce data-v-468ad0ce>;</span>
</code></pre></div>
<p data-v-468ad0ce data-v-468ad0ce>请注意，subscribe是一个阻塞操作，因为它将轮询Redis以查询调用subscribe的线程的响应。
单个JedisPubSub实例可用于订阅多个通道。
您可以在现有的JedisPubSub实例上调用subscribe或psubscribe来更改您的订阅。</p>
<h2 id="jedis-cluster" data-v-468ad0ce data-v-468ad0ce><a href="#jedis-cluster" aria-hidden="true" tabindex="-1" data-v-468ad0ce data-v-468ad0ce><span class="icon icon-link" data-v-468ad0ce data-v-468ad0ce></span></a>Jedis Cluster</h2>

<p data-v-468ad0ce data-v-468ad0ce>有个缺点，分片情况下jedis只支持读master</p>
<h2 id="与spring相结合" data-v-468ad0ce data-v-468ad0ce><a href="#%E4%B8%8Espring%E7%9B%B8%E7%BB%93%E5%90%88" aria-hidden="true" tabindex="-1" data-v-468ad0ce data-v-468ad0ce><span class="icon icon-link" data-v-468ad0ce data-v-468ad0ce></span></a>与spring相结合</h2>
<p data-v-468ad0ce data-v-468ad0ce>后续单独讲</p>
<h2 id="参考" data-v-468ad0ce data-v-468ad0ce><a href="#%E5%8F%82%E8%80%83" aria-hidden="true" tabindex="-1" data-v-468ad0ce data-v-468ad0ce><span class="icon icon-link" data-v-468ad0ce data-v-468ad0ce></span></a>参考</h2>
<p data-v-468ad0ce data-v-468ad0ce><a href="https://github.com/xetorthio/jedis/wiki/Getting-started" rel="nofollow noopener noreferrer" target="_blank" data-v-468ad0ce data-v-468ad0ce>https://github.com/xetorthio/jedis/wiki/Getting-started</a></p>
<p data-v-468ad0ce data-v-468ad0ce><a href="https://lanjingling.github.io/categories/redis/" rel="nofollow noopener noreferrer" target="_blank" data-v-468ad0ce data-v-468ad0ce>https://lanjingling.github.io/categories/redis/</a></p></div></div> <div class="sidebar co-width-2" style="padding-left:12px;display:none" data-v-468ad0ce><div class="toc-fixed" data-v-468ad0ce><nav id="TableOfContents" data-v-468ad0ce><ul data-v-468ad0ce><li class="py-2" style="text-indent:8px" data-v-468ad0ce><a href="#spring-data-redis" data-v-468ad0ce> Spring Data Redis </a></li><li class="py-2" style="text-indent:8px" data-v-468ad0ce><a href="#jedis的使用" data-v-468ad0ce> Jedis的使用 </a></li><li class="ml-2 pb-2" style="text-indent:16px" data-v-468ad0ce><a href="#简单示例" data-v-468ad0ce> 简单示例 </a></li><li class="ml-2 pb-2" style="text-indent:16px" data-v-468ad0ce><a href="#多线程环境" data-v-468ad0ce> 多线程环境 </a></li><li class="ml-2 pb-2" style="text-indent:16px" data-v-468ad0ce><a href="#主从复制" data-v-468ad0ce> 主从复制 </a></li><li class="py-2" style="text-indent:8px" data-v-468ad0ce><a href="#jedis高级部分用法" data-v-468ad0ce> Jedis高级部分用法 </a></li><li class="ml-2 pb-2" style="text-indent:16px" data-v-468ad0ce><a href="#transactions" data-v-468ad0ce> Transactions </a></li><li class="ml-2 pb-2" style="text-indent:16px" data-v-468ad0ce><a href="#pipelining" data-v-468ad0ce> Pipelining </a></li><li class="ml-2 pb-2" style="text-indent:16px" data-v-468ad0ce><a href="#订阅发布" data-v-468ad0ce> 订阅/发布 </a></li><li class="py-2" style="text-indent:8px" data-v-468ad0ce><a href="#jedis-cluster" data-v-468ad0ce> Jedis Cluster </a></li><li class="py-2" style="text-indent:8px" data-v-468ad0ce><a href="#与spring相结合" data-v-468ad0ce> 与spring相结合 </a></li><li class="py-2" style="text-indent:8px" data-v-468ad0ce><a href="#参考" data-v-468ad0ce> 参考 </a></li></ul></nav> <a href="#" id="tap-to-top" data-v-468ad0ce><fa icon="fa,arrow-up" data-v-468ad0ce></fa></a></div></div></aside></article></section></div></div></main></div></div><script defer src="/_nuxt/static/1637221111/wiki/content/Redis-redis-jedis/state.js"></script><script src="/_nuxt/js/runtime.1637221086066.js" defer></script><script src="/_nuxt/js/pages/wiki.1637221086066.js" defer></script><script src="/_nuxt/js/pages/wiki/content/_slug.1637221086066.js" defer></script><script src="/_nuxt/js/commons/app.1637221086066.js" defer></script><script src="/_nuxt/js/vendors/app.1637221086066.js" defer></script><script src="/_nuxt/js/app.1637221086066.js" defer></script>
  </body>
</html>
