__NUXT_JSONP__("/wiki/content/mysql%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86-mysqli_connect-error1", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W){return {data:[{},{article:{slug:w,title:x,layout:"page",date:y,collection:z,toc:[{id:l,depth:A,text:l},{id:m,depth:A,text:m}],body:{type:"root",children:[{type:b,tag:g,props:{},children:[{type:a,value:"使用mysqli连接数据库报错:"}]},{type:a,value:e},{type:b,tag:B,props:{className:[C]},children:[{type:b,tag:D,props:{className:[E,"language-text"]},children:[{type:b,tag:n,props:{},children:[{type:a,value:"$conn = mysqli_connect(\"localhost\",\"root\",123);\n报错:`Warning: mysqli_connect(): (HY000\u002F2002): No such file or directory`\n"}]}]}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"如果上面的连接地址是 localhost 就会报此错误，改成 127.0.0.1 后正常。"}]},{type:a,value:e},{type:b,tag:F,props:{id:l},children:[{type:b,tag:r,props:{href:"#%E5%8E%9F%E5%9B%A0",ariaHidden:G,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:l}]},{type:a,value:e},{type:b,tag:"ul",props:{},children:[{type:a,value:e},{type:b,tag:s,props:{},children:[{type:a,value:"当主机填写为localhost时MySQL会采用 unix domain socket连接，"}]},{type:a,value:e},{type:b,tag:s,props:{},children:[{type:a,value:"当主机填写为127.0.0.1时MySQL会采用TCP\u002FIP的方式连接。"}]},{type:a,value:e},{type:b,tag:s,props:{},children:[{type:a,value:"使用Unix socket的连接比TCP\u002FIP的连接更加快速与安全。"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"这是MySQL连接的特性，可以参考官方文档的说明4.2.2. Connecting to the MySQL Server。"}]},{type:a,value:e},{type:b,tag:F,props:{id:m},children:[{type:b,tag:r,props:{href:"#%E5%87%A0%E7%A7%8D%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%EF%BC%9A",ariaHidden:G,tabIndex:H},children:[{type:b,tag:c,props:{className:[I,J]},children:[]}]},{type:a,value:m}]},{type:a,value:e},{type:b,tag:"blockquote",props:{},children:[{type:a,value:e},{type:b,tag:g,props:{},children:[{type:b,tag:r,props:{href:K,rel:["nofollow","noopener","noreferrer"],target:"_blank"},children:[{type:a,value:K}]},{type:b,tag:t,props:{},children:[]},{type:a,value:"\n1.使用TCP\u002FIP代替Unix socket。即在连接的时候将localhost换成127.0.0.1。"},{type:b,tag:t,props:{},children:[]},{type:a,value:"\n2.修改MySQL的配置文件my.cnf，指定mysql.socket的位置"},{type:b,tag:n,props:{},children:[{type:a,value:"\u002Fvar\u002Flib\u002Fmysql\u002Fmysql.sock"}]},{type:a,value:" (你的mysql.socket路径)。"},{type:b,tag:t,props:{},children:[]},{type:a,value:"\n3.直接在php建立连接的时候指定my.socket的位置（官方文档：mysqli_connect）。比如：$db = new MySQLi('localhost', 'root', 'root', 'my_db', '3306', '\u002Fvar\u002Frun\u002Fmysqld\u002Fmysqld.sock')"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"尝试了下,macOS上使用如下方式连接成功"}]},{type:a,value:e},{type:b,tag:B,props:{className:[C]},children:[{type:b,tag:D,props:{className:[E,"language-php"]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:M}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"="}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"mysqli_connect"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"\"localhost\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"\"root\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:"123"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"\"test_base\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:"3306"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"\"\u002Ftmp\u002Fmysql.sock\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:v}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"if"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:M}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"=="}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,"constant","boolean"]},children:[{type:a,value:"false"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:P}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"die"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,i,j]},children:[{type:a,value:"\"连接失败:\""}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"."}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"mysqli_connect_error"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:v}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"else"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:P}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"echo"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,i,"single-quoted-string"]},children:[{type:a,value:"'连接成功'"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:v}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:g,props:{},children:[{type:a,value:"额外的:  php报错"},{type:b,tag:n,props:{},children:[{type:a,value:"SQLSTATE[HY000] [2002] No such file or directory"}]},{type:a,value:" 也是这个原因。"}]}]},dir:"\u002Fwiki\u002Fdatabase\u002Fmysql错误处理",path:S,extension:".md",createdAt:T,updatedAt:T},prev:{slug:"Yii-Yii-lifecycle",title:"life Cycle",date:"2017-07-16T15:53:11.000Z"},next:{slug:"Error-Shell-Script-Invocation-Error",title:"'Shell Script Invocation Error'",date:"2017-07-20T14:27:04.000Z"},scrollTop:U,sideCategory:[{folderName:"database",articles:[{slug:"database-wcdb",title:"WCDB",date:"2017-10-23T13:17:36.000Z",path:"\u002Fwiki\u002Fdatabase\u002Fdatabase-wcdb"}],children:[{folderName:"mybatis",articles:[{slug:"mybatis-mybatis-common",title:"mybatis中的常见的运算符和表达式",date:"2019-10-11T20:19:03.000Z",path:"\u002Fwiki\u002Fdatabase\u002Fmybatis\u002Fmybatis-mybatis-common"}],children:[]},{folderName:z,articles:[{slug:w,title:x,date:y,path:S}],children:[]},{folderName:"oracle",articles:[{slug:"oracle-时间处理.md",date:"2020-11-10T08:35:45.000Z",title:"时间处理",path:"\u002Fwiki\u002Fdatabase\u002Foracle\u002Foracle-时间处理.md"},{slug:"oracle-锁表以及处理方法",date:"2020-10-26T08:48:36.000Z",title:"锁表以及处理方法",path:"\u002Fwiki\u002Fdatabase\u002Foracle\u002Foracle-锁表以及处理方法"}],children:[]},{folderName:V,articles:[{slug:"postgresql-macos-install",title:"macos安装和配置",date:"2021-09-28T13:31:37.000Z",path:"\u002Fwiki\u002Fdatabase\u002Fpostgresql\u002Fpostgresql-macos-install"},{slug:"postgresql-posggresql-review",title:V,date:"2020-03-16T00:00:00.000Z",path:"\u002Fwiki\u002Fdatabase\u002Fpostgresql\u002Fpostgresql-posggresql-review"},{slug:"postgresql-postgres-join",title:"join 'on' 与 'where'",date:W,path:"\u002Fwiki\u002Fdatabase\u002Fpostgresql\u002Fpostgresql-postgres-join"},{slug:"postgresql-postgresq-dump",title:"postgresql导入导出(pg_dump)",date:"2019-06-20T00:00:00.000Z",path:"\u002Fwiki\u002Fdatabase\u002Fpostgresql\u002Fpostgresql-postgresq-dump"},{slug:"postgresql-postgresql-confi",title:"列名、关键字冲突的情况",date:"2018-11-16T11:25:05.000Z",path:"\u002Fwiki\u002Fdatabase\u002Fpostgresql\u002Fpostgresql-postgresql-confi"},{slug:"postgresql-postgresql-order-by-numberic",title:"字符串按数字类型排序",date:"2018-11-16T00:00:00.000Z",path:"\u002Fwiki\u002Fdatabase\u002Fpostgresql\u002Fpostgresql-postgresql-order-by-numberic"},{slug:"postgresql-postgresql安装使用(macos)",title:"postgresql安装（macos）",date:W,path:"\u002Fwiki\u002Fdatabase\u002Fpostgresql\u002Fpostgresql-postgresql安装使用(macos)"},{slug:"postgresql-逗号分割的字典值转名称",title:"逗号分割的字典值转字典名称(postgresql)",date:"2020-04-15T00:00:00.000Z",path:"\u002Fwiki\u002Fdatabase\u002Fpostgresql\u002Fpostgresql-逗号分割的字典值转名称"}],children:[]},{folderName:"sql",articles:[{slug:"sql-sql-join-count",title:"sql 查询left join项的个数",date:"2019-10-11T20:28:26.000Z",path:"\u002Fwiki\u002Fdatabase\u002Fsql\u002Fsql-sql-join-count"},{slug:"sql-sql-sort-rank",title:"求排名",date:"2020-04-06T00:00:00.000Z",path:"\u002Fwiki\u002Fdatabase\u002Fsql\u002Fsql-sql-sort-rank"},{slug:"sql-记录值是否存在另一个表中",date:"2020-11-10T09:15:46.000Z",title:"记录值是否存在另一个表中",path:"\u002Fwiki\u002Fdatabase\u002Fsql\u002Fsql-记录值是否存在另一个表中"}],children:[]}]}]}],fetch:{},mutations:U}}("text","element","span","token","\n","punctuation","p"," ","string","double-quoted-string",",","原因","几种解决方法：","code","(",")","keyword","a","li","br","operator",";","mysql错误处理-mysqli_connect-error1","Warning: mysqli_connect(): (HY000\u002F2002)","2017-07-19T00:00:00.000Z","mysql错误处理",2,"div","nuxt-content-highlight","pre","line-numbers","h2","true",-1,"icon","icon-link","http:\u002F\u002Fwww.111cn.net\u002Fdatabase\u002Fmysql\u002F103734.htm","variable","$conn","function","number","{","\n    ","}","\u002Fwiki\u002Fdatabase\u002Fmysql错误处理\u002Fmysql错误处理-mysqli_connect-error1","2021-11-18T07:37:48.008Z",void 0,"postgresql","2018-09-26T09:20:28.000Z")));