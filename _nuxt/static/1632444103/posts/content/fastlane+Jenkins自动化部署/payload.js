__NUXT_JSONP__("/posts/content/fastlane+Jenkins%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc){return {data:[{},{article:{slug:"fastlane+Jenkins自动化部署",title:"fastlane+Jenkins自动化部署iOS项目",date:"2020-06-23 17:30:15 +0800",tags:[aG],categories:[aH],series:["fastlane使用教程"],toc:[{id:aI,depth:ac,text:aJ},{id:aK,depth:A,text:aL},{id:aM,depth:A,text:aN},{id:ad,depth:ac,text:ad},{id:aO,depth:A,text:aP},{id:aQ,depth:A,text:aR},{id:aS,depth:A,text:aT},{id:aU,depth:A,text:aV},{id:aW,depth:A,text:aX},{id:aY,depth:A,text:aZ},{id:ae,depth:A,text:ae},{id:a_,depth:A,text:a$},{id:af,depth:A,text:af},{id:ba,depth:ac,text:bb},{id:bc,depth:A,text:bd},{id:be,depth:A,text:bf},{id:bg,depth:A,text:bh},{id:ag,depth:A,text:ag},{id:ah,depth:ac,text:ah}],body:{type:"root",children:[{type:b,tag:ai,props:{id:aI},children:[{type:b,tag:m,props:{href:"#fastlane-%E7%9B%B8%E5%85%B3%E7%9A%84%E9%85%8D%E7%BD%AE",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:aJ}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"fastlane 的安装过程略。"}]},{type:a,value:f},{type:b,tag:B,props:{id:aK},children:[{type:b,tag:m,props:{href:"#%E9%85%8D%E7%BD%AE-adhoc",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:aL}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"需求是打包上传，并将 app 上传到 fir.im 上。 幸运的是 fir 提供了相应的"},{type:b,tag:m,props:{href:"https:\u002F\u002Fblog.betaqr.com\u002Fguan-yu-fastlane-cha-jian-wen-ti\u002F",rel:[Q,R,S],target:T},children:[{type:a,value:"插件"}]},{type:a,value:",并且支持回调给钉钉机器人。"}]},{type:a,value:f},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,ab]},children:[{type:b,tag:z,props:{},children:[{type:a,value:bi},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:aj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bj},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:aj}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Y}]},{type:a,value:bk},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Y}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"#ENV['PILOT_GROUPS'] = '测试组A' #'Group2','Group 3'"}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"#ENV['FASTLANE_ITC_TEAM_ID'] = '\u003C对应id\u003E'"}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:bl}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:bm}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Z}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"adhoc\""}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:":adhoc"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Y}]},{type:a,value:"\n     cocoapods\n     sigh"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:"\n       force"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bp},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:ax}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"# 因为初步的设想是,本地将tag提交给代码仓库，代码仓库通过webhook通知jenkins,最后jenkins拉去最近提交的tag版本，然后再进行打包"}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:" last_git_tag\n     "},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"# fix: 没有添加tag的情况"}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:" recentTagName"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:W}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:W}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"\""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"  recentTagName\n     ipa_name "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:"  recentTagName "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:$}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"_adhoc_\""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:$}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bs},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:bt}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n     start_t "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"now\n     gym"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"goodDoctor\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"ad-hoc\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:ao},{type:b,tag:c,props:{className:[d,O]},children:[{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:P}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:C}]}]},{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:ax}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n     end_t "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"now\n     delta_t "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:bz},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:"end_t "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ar}]},{type:a,value:" start_t"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"to_i"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"to_s\n     "},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"# `CHANGE_LOG_JENKINS`为jenkins预留,可以通过jenkins的插件提取需要的日志"}]},{type:a,value:bA},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:W}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:W}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:"\n     fir_cli"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:"\n         api_token"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"\u003Cfir.im提供的api token\u003E\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\n         dingtalk_custom_message"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"release: adhoc版本上传成功,打包总共耗时"},{type:b,tag:c,props:{className:[d,O]},children:[{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:P}]},{type:a,value:"delta_t"},{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:C}]}]},{type:a,value:"秒\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\n         dingtalk_access_token"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"\u003C钉钉webhook的access token\u003E\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\n         changelog"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\n         specify_file_path"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\".\u002Ffastlane\u002Fbuild\u002Fadhoc\u002F\""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:$}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:ao},{type:b,tag:c,props:{className:[d,O]},children:[{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:P}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:C}]}]},{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Z}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Z}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:B,props:{id:aM},children:[{type:b,tag:m,props:{href:"#%E9%85%8D%E7%BD%AE-testflight",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:aN}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"需求是 build 号根据 testflight 最近的 build 自增,然后发布到"}]},{type:a,value:f},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,ab]},children:[{type:b,tag:z,props:{},children:[{type:a,value:bi},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:aj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bj},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:aj}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Y}]},{type:a,value:bk},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Y}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"# 发布到测试组,可以提供多个, 写法格式如: ENV['PILOT_GROUPS'] = 'Group1','Group2','Group 3'"}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"'PILOT_GROUPS'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"'测试组A'"}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"'FASTLANE_ITC_TEAM_ID'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"'\u003C对应itc team id\u003E'"}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:bl}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:bm}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Z}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"上传testflight\""}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:":tf"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Y}]},{type:a,value:"\n     sigh"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bp},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:"false"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:ax}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"#版本号自增,笔者这里版本号格式为两位小数,每次增加0.01"}]},{type:a,value:"\n     build_number "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:bz},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:"latest_testflight_build_number"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"to_f "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:$}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,at]},children:[{type:a,value:"0.01"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"round"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,at]},children:[{type:a,value:"2"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"to_s\n     increment_build_number"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:au}]},{type:a,value:"\n       build_number"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" build_number\n     "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n     c "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:" get_version_number\n     ipa_name "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:" version "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:$}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"_build"},{type:b,tag:c,props:{className:[d,O]},children:[{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:P}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:C}]}]},{type:a,value:"_testflight_\""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:$}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bs},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:bt}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n     gym"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"\u003C需要打包的scheme,如果只有一个可不指定\u003E\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"app-store\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\".\u002Ffastlane\u002Fbuild\u002Fappstore\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\n        export_options"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:au}]},{type:a,value:"\n            "},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"# 根据实际需求进行配置,也可以指定plist文件"}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"compileBitcode\""}]},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:":false"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"uploadSymbols\""}]},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:bE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"stripSwiftSymbols\""}]},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:bE}]},{type:a,value:"\n        "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:ao},{type:b,tag:c,props:{className:[d,O]},children:[{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:P}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:C}]}]},{type:a,value:aq}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n     groups "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"PILOT_GROUPS\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"split"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\",\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bA},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:W}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:W}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:"\n     upload_to_testflight"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:"\n        ipa"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\".\u002Ffastlane\u002Fbuild\u002Fappstore\u002F"},{type:b,tag:c,props:{className:[d,O]},children:[{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:P}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:C}]}]},{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\n        changelog"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\n        groups"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" groups\n     "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"# 用钉钉进行通知"}]},{type:a,value:"\n     noti_content "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:au}]},{type:a,value:"\n         msgtype"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"link\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\n         link"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:au}]},{type:a,value:"\n            title"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"some text (iOS)"},{type:b,tag:c,props:{className:[d,O]},children:[{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:P}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:C}]}]},{type:a,value:"build"},{type:b,tag:c,props:{className:[d,O]},children:[{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:P}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:C}]}]},{type:a,value:" testflight内测版 release\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\n            text"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"已经更新啦，快去下载吧!\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\n            messageUrl"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"https:\u002F\u002Ftestflight.apple.com\u002Fjoin\u002F6bSrNybc\""}]},{type:a,value:"\n         "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:bC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:"\n      uri "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:"URI"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"parse"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"https:\u002F\u002F\u003C钉钉机器人webhook的地址\u003E\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n      https "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:bF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:bG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"host"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:" uri"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"port"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n      https"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"use_ssl "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:r}]},{type:a,value:"\n      request "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:bF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:bG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:"Post"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"request_uri"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"add_field"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"'Content-Type'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"'application\u002Fjson'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"body "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:" noti_content"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"to_json\n      response "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:" https"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bK},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"------------------------------\""}]},{type:a,value:bK},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"Response "},{type:b,tag:c,props:{className:[d,O]},children:[{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:P}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:C}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,O]},children:[{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:P}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"message"},{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:C}]}]},{type:a,value:": "},{type:b,tag:c,props:{className:[d,O]},children:[{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:P}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"body"},{type:b,tag:c,props:{className:[d,s,t]},children:[{type:a,value:C}]}]},{type:a,value:ao}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Z}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Z}]},{type:a,value:f}]}]}]},{type:a,value:"\n "},{type:a,value:f},{type:b,tag:ai,props:{id:ad},children:[{type:b,tag:m,props:{href:"#%E5%8F%AF%E8%83%BD%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98%E8%AF%B4%E6%98%8E",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:ad}]},{type:a,value:f},{type:b,tag:B,props:{id:aO},children:[{type:b,tag:m,props:{href:"#fir_cli-%E6%97%A0%E6%B3%95%E9%80%9A%E7%9F%A5%E9%92%89%E9%92%89",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:aP}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"出于安全考虑，钉钉机器的需要设置关键词 or 加签名 or 设置 ip 段。"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"笔者为了方便起见，选择了“关键词”，发送消息的时候添加对应的关键词即可。"}]},{type:a,value:f},{type:b,tag:B,props:{id:aQ},children:[{type:b,tag:m,props:{href:"#gem-%E6%BA%90%E7%9A%84%E9%97%AE%E9%A2%98",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:aR}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"由于天朝网络环境的问题,导致 gem install 卡住,可以使用 rub-china 源头,指定 Gemfile："}]},{type:a,value:f},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,ab]},children:[{type:b,tag:z,props:{},children:[{type:a,value:bL},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:bM}]},{type:a,value:bN},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:bO}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"（ps:全局的 gem 源应该不用修改，笔者未做测试，换源操作如下:）"}]},{type:a,value:f},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,ab]},children:[{type:b,tag:z,props:{},children:[{type:a,value:"➜    gem source "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ar}]},{type:a,value:"l\n"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:"CURRENT"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,y]},children:[{type:a,value:"SOURCES"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aa}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:"\n➜    gem sources "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bQ}]},{type:a,value:"add https"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:bR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bS},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ar}]},{type:a,value:bT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bQ}]},{type:a,value:"remove https"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:bR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bS},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ar}]},{type:a,value:bT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:" added to sources\nhttps"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:" removed from sources\n"}]}]}]},{type:a,value:f},{type:b,tag:B,props:{id:aS},children:[{type:b,tag:m,props:{href:"#cocoapods-%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%A4%B1%E8%B4%A5",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:aT}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"解决方法: 使用 gem 安装 cocoapods("},{type:b,tag:z,props:{},children:[{type:a,value:"sudo gem install fastlane -NV"}]},{type:a,value:")，并且在 Gemfile 上配置好,例如"}]},{type:a,value:f},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,ab]},children:[{type:b,tag:z,props:{},children:[{type:a,value:bL},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:bM}]},{type:a,value:"\n\ngem "},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:bO}]},{type:a,value:bN},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"\"cocoapods\""}]},{type:a,value:"\n\nplugins_path "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"join"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"dirname"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:"__FILE__"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"'fastlane'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"'Pluginfile'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\neval_gemfile"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"if"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"exist"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:B,props:{id:aU},children:[{type:b,tag:m,props:{href:"#apple-%E9%89%B4%E6%9D%83%E8%AE%A4%E8%AF%81%E9%97%AE%E9%A2%98",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:aV}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"如果近期修改过密码,可能导致输入验证码时校验失败,此时可以尝试登录"},{type:b,tag:m,props:{href:bW,rel:[Q,R,S],target:T},children:[{type:a,value:bX}]}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"选择’安全‘ -\u003E ’更改密码‘ -\u003E \"从设备和网页中注销我的 Apple ID\""}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:b,tag:av,props:{alt:"2020062315929107258216.png",src:"https:\u002F\u002Fcdn.jsdelivr.net\u002Fgh\u002Fquicktouch\u002Fimage@main\u002Fimg\u002F2020062315929107258216.png"},children:[]}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"但是推荐使用"},{type:b,tag:z,props:{},children:[{type:a,value:bY}]},{type:a,value:"进行验证。"}]},{type:a,value:f},{type:b,tag:B,props:{id:aW},children:[{type:b,tag:m,props:{href:"#%E4%BD%BF%E7%94%A8-app-%E4%B8%93%E7%94%A8%E5%AF%86%E7%A0%81%E8%BF%9B%E8%A1%8C%E7%99%BB%E9%99%86%E6%A0%A1%E9%AA%8C",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:aX}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"1). 可在"},{type:b,tag:m,props:{href:bW,rel:[Q,R,S],target:T},children:[{type:a,value:bX}]},{type:a,value:"处生成专有密码"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"2). 在"},{type:b,tag:z,props:{},children:[{type:a,value:bZ}]},{type:a,value:"添加全局变量"}]},{type:a,value:f},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,X]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,V,b_]},children:[{type:a,value:"export"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,"assign-left",aw]},children:[{type:a,value:"FASTLANE_APPLE_APPLICATION_SPECIFIC_PASSWORD"}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:"App专用密码\n"}]}]}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"3). 生成 session,并按提示添加 "},{type:b,tag:z,props:{},children:[{type:a,value:bY}]},{type:a,value:"变量到"},{type:b,tag:z,props:{},children:[{type:a,value:bZ}]}]},{type:a,value:f},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,X]},children:[{type:b,tag:z,props:{},children:[{type:a,value:"~ fastlane spaceauth -u "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\u003C"}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"#your appleId#\u003E"}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:B,props:{id:aY},children:[{type:b,tag:m,props:{href:"#fastlane_itc_team_id-%E7%9A%84%E8%8E%B7%E5%8F%96",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:aZ}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:b,tag:"em",props:{},children:[{type:a,value:"FASTLANE_ITC_TEAM_ID 不同于 itc 的 team id"}]}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"如果账号同时属于多个 itc,当上传包到 testflight 时,那么需要 FASTLANE_ITC_TEAM_ID 进行区分,"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"至少有两种方法可以获取:"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"方法 1，执行命令时,根据命令行页面的提示内容进行保存"},{type:b,tag:"br",props:{},children:[]},{type:a,value:f},{type:b,tag:m,props:{href:"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F42960644\u002Fhow-to-get-itunes-connect-team-id-and-team-name",rel:[Q,R,S],target:T},children:[{type:a,value:"方法 2"}]},{type:a,value:"，登录 itunesconnect,然后访问"},{type:b,tag:m,props:{href:"https:\u002F\u002Fitunesconnect.apple.com\u002FWebObjects\u002FiTunesConnect.woa\u002Fra\u002Fuser\u002Fdetail",rel:[Q,R,S],target:T},children:[{type:a,value:"这里"}]},{type:a,value:k}]},{type:a,value:f},{type:b,tag:B,props:{id:ae},children:[{type:b,tag:m,props:{href:"#%E8%BF%81%E7%A7%BB%E5%88%B0%E5%85%B6%E4%BB%96%E6%9C%BA%E5%99%A8%E4%B8%8A",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:ae}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"大致步骤为:"}]},{type:a,value:f},{type:b,tag:b$,props:{},children:[{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"安装 fastlane"}]},{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"bundle update "}]},{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"执行相应的命令"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:B,props:{id:a_},children:[{type:b,tag:m,props:{href:"#itc-app-%E4%B8%8A%E4%BC%A0%E5%A4%B1%E8%B4%A5%E7%9A%84%E9%97%AE%E9%A2%98",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:a$}]},{type:a,value:f},{type:b,tag:b$,props:{},children:[{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"比较简单的解决方式是换个网络环境重试一下，例如用手机流量等等。"}]},{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"科学上网，设置代理"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"笔者发现,itc app 上传默认状态是不走终端的网络代理的(也许是借用的 xcode 内置的 app upload?), 但是使用科学上网工具(如 clash 等等)的全局代理有效。"}]},{type:a,value:f},{type:b,tag:B,props:{id:af},children:[{type:b,tag:m,props:{href:"#%E5%85%B6%E4%BB%96%E5%BE%85%E5%AE%8C%E5%96%84%E7%9A%84",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:af}]},{type:a,value:f},{type:b,tag:aE,props:{},children:[{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"提取公用的变量和方法"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:ai,props:{id:ba},children:[{type:b,tag:m,props:{href:"#%E5%AE%89%E8%A3%85-jenkins",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:bb}]},{type:a,value:f},{type:b,tag:B,props:{id:bc},children:[{type:b,tag:m,props:{href:"#docker-%E8%BF%90%E8%A1%8C-jenkins%EF%BC%88%E5%BA%9F%E5%BC%83%EF%BC%89",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:b,tag:"del",props:{},children:[{type:a,value:bd}]}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"(废弃的方案)"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"使用 docker 安装，拉取最新的版本:"}]},{type:a,value:f},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,X]},children:[{type:b,tag:z,props:{},children:[{type:a,value:"$ docker pull jenkins\u002Fjenkins\n"}]}]}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"运行:"}]},{type:a,value:f},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,X]},children:[{type:b,tag:z,props:{},children:[{type:a,value:"docker run --name jenkins "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aF}]},{type:a,value:"\n    --user"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:a,value:"root -p "},{type:b,tag:c,props:{className:[d,at]},children:[{type:a,value:"8081"}]},{type:a,value:":8080 "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aF}]},{type:a,value:"\n    -v "},{type:b,tag:c,props:{className:[d,aw]},children:[{type:b,tag:c,props:{className:[d,aw]},children:[{type:a,value:ca}]},{type:b,tag:c,props:{className:[d,V,b_]},children:[{type:a,value:"pwd"}]},{type:b,tag:c,props:{className:[d,aw]},children:[{type:a,value:ca}]}]},{type:a,value:"\u002Fjenkins_home:\u002Fvar\u002Fjenkins_home "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aF}]},{type:a,value:"\n    -d jenkins\u002Fjenkins\n"}]}]}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"执行并查看密码："}]},{type:a,value:f},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,X]},children:[{type:b,tag:z,props:{},children:[{type:a,value:"$ .\u002Fdocker-jenkins.sh\n"},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"# 查看初始密码"}]},{type:a,value:"\n$ docker logs jenkins\n"}]}]}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"重启命令:"}]},{type:a,value:f},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,X]},children:[{type:b,tag:z,props:{},children:[{type:a,value:"docker restart 容器id\n"}]}]}]},{type:a,value:f},{type:b,tag:B,props:{id:be},children:[{type:b,tag:m,props:{href:"#%E7%9B%B4%E6%8E%A5%E8%BF%90%E8%A1%8C-jenkins-%E6%96%87%E4%BB%B6",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:bf}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"由于涉及一些环境变量，这里放弃使用 docker 安装 jenkins,直接运行 jar 包的方式,并选择安装建议的插件。!!注意不要 sudu,会造成 cocoapods 命令执行失败。"}]},{type:a,value:f},{type:b,tag:G,props:{className:[H]},children:[{type:b,tag:I,props:{className:[J,X]},children:[{type:b,tag:z,props:{},children:[{type:a,value:"java -jar jenkins.war --httpPort"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,at]},children:[{type:a,value:"9090"}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"插件选择默认的插件即可。"}]},{type:a,value:f},{type:b,tag:B,props:{id:bg},children:[{type:b,tag:m,props:{href:"#fastlane-%E9%85%8D%E7%BD%AE%E4%BB%BB%E5%8A%A1",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:bh}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"本地环境配置过 fastlane,这里不再安装其他插件。"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"1). 选择新建任务"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:b,tag:av,props:{alt:"20200619159253157076128.png",src:"https:\u002F\u002Fcdn.jsdelivr.net\u002Fgh\u002Fquicktouch\u002Fimage@main\u002Fimg\u002F20200619159253157076128.png"},children:[]}]},{type:a,value:f},{type:a,value:f},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"创建新任务,选择自由风格。"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"2). 一些简单的配置。"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"配置 git 的仓库地址，并配置 Credentials(git 用户名和密码)。"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:b,tag:av,props:{alt:"20200623159291850230007.png",src:"https:\u002F\u002Fcdn.jsdelivr.net\u002Fgh\u002Fquicktouch\u002Fimage@main\u002Fimg\u002F20200623159291850230007.png"},children:[]}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"3). 直接执行相应的打包命令等,例如前文编写的 adhoc 命令"}]},{type:a,value:f},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:b,tag:av,props:{alt:"20200623159291877015415.png",src:"https:\u002F\u002Fcdn.jsdelivr.net\u002Fgh\u002Fquicktouch\u002Fimage@main\u002Fimg\u002F20200623159291877015415.png"},children:[]}]},{type:a,value:f},{type:b,tag:B,props:{id:ag},children:[{type:b,tag:m,props:{href:"#%E5%BE%85%E5%A4%84%E7%90%86%E7%9A%84%E9%9C%80%E6%B1%82",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:ag}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"如果有专门的打包机器还是非常方便的。由于初次接触 jenkins，各种插件不甚了解，一些东西功能需求有时间再进行完善。"}]},{type:a,value:f},{type:b,tag:aE,props:{},children:[{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"jenkins 打包命令之前，使用钉钉机器人进行提前通知（使用"},{type:b,tag:m,props:{href:"https:\u002F\u002Fwiki.jenkins.io\u002Fdisplay\u002FJENKINS\u002FDingding+Notification+Plugin",rel:[Q,R,S],target:T},children:[{type:a,value:"钉钉插件"}]},{type:a,value:"）"}]},{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"提取两个 tag 之间的 git log,借助插件 git-changelog-plugin，"},{type:b,tag:m,props:{href:"https:\u002F\u002Fgithub.com\u002Fjenkinsci\u002Fgit-changelog-plugin\u002Fissues\u002F6",rel:[Q,R,S],target:T},children:[{type:a,value:"参考"}]}]},{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"使用 gitlab 的 webhook 主动通知 jenkins 进行更新"}]},{type:a,value:f}]},{type:a,value:f},{type:a,value:f},{type:b,tag:ai,props:{id:ah},children:[{type:b,tag:m,props:{href:"#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99",ariaHidden:r,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:ah}]},{type:a,value:f},{type:b,tag:aE,props:{},children:[{type:a,value:f},{type:b,tag:K,props:{},children:[{type:b,tag:m,props:{href:"https:\u002F\u002Ffastlane.tools\u002F",rel:[Q,R,S],target:T},children:[{type:a,value:aG}]}]},{type:a,value:f},{type:b,tag:K,props:{},children:[{type:b,tag:m,props:{href:"https:\u002F\u002Fmedium.com\u002F@litoarias\u002Fcontinous-integration-continous-delivery-for-ios-with-jenkins-and-fastlane-fd2906956b20",rel:[Q,R,S],target:T},children:[{type:a,value:"Jenkins and Fastlane - for Continuous integration and continuous delivery in iOS"}]}]},{type:a,value:f},{type:b,tag:K,props:{},children:[{type:b,tag:m,props:{href:"https:\u002F\u002Fjuejin.im\u002Fpost\u002F5b1e4133e51d4506b0111d17#heading-2",rel:[Q,R,S],target:T},children:[{type:a,value:"Fastlane 一键打包上传 Fir"}]}]},{type:a,value:f}]}]},dir:"\u002Farticles\u002FiOS",path:"\u002Farticles\u002FiOS\u002Ffastlane+Jenkins自动化部署",extension:".md",createdAt:"2021-09-24T00:40:42.208Z",updatedAt:"2021-09-24T00:40:42.212Z"},prev:{slug:cb,title:cb},next:{slug:"tornado-with-eureka",title:"将Python Tornado注册到Eureka"},scrollTop:cc}],fetch:{},mutations:cc}}("text","element","span","token","punctuation","\n"," ","operator","string",":",".","p","a","=",",","(",")","true","delimiter","tag","keyword",-1,"icon","icon-link","constant","code",3,"h3","}","\u002F","\n     ","comment","div","nuxt-content-highlight","pre","line-numbers","li","ENV","[","]","interpolation","#{","nofollow","noopener","noreferrer","_blank","symbol","builtin","?","language-bash","do","end","boolean","+","*","language-ruby",2,"可能遇到的一些问题说明","迁移到其他机器上","其他待完善的","待处理的需求","参考资料","h2",":ios","'CHANGE_LOG'","\n  ","Time","new","\"","ipa_name",".ipa\"","-","'CHANGE_LOG_JENKINS'","number","{","img","variable","\".\u002Ffastlane\u002Fbuild\u002Fadhoc\"","nil","\n           ","response","rubygems","org","File","ul","\\","fastlane","iOS","fastlane-相关的配置","fastlane 相关的配置","配置-adhoc","配置 adhoc","配置-testflight","配置 testflight","fir_cli-无法通知钉钉","fir_cli 无法通知钉钉","gem-源的问题","gem 源的问题","cocoapods-命令执行失败","cocoapods 命令执行失败","apple-鉴权认证问题","Apple 鉴权认证问题","使用-app-专用密码进行登陆校验","使用 App 专用密码进行登陆校验","fastlane_itc_team_id-的获取","FASTLANE_ITC_TEAM_ID 的获取","itc-app-上传失败的问题","itc app 上传失败的问题","安装-jenkins","安装 Jenkins","docker-运行-jenkins（废弃）","docker 运行 Jenkins（废弃）","直接运行-jenkins-文件","直接运行 Jenkins 文件","fastlane-配置任务","fastlane 配置任务","default_platform","\nplatform ","\n\n  before_all ","'脚本自动打包'","#（可选）手动输入log变更内容，放在此处便于查找便捷","\n\n  desc ","\n  lane ","\n       adhoc","\n       output_path","\n     recentTagName ","strftime","'%Y%m%d%H%M'","\n        clean","\n        scheme","\n        export_method","\n        output_name","\n        output_directory","  ","\n     changelog "," changelog","\n      ","build_number",":true","Net","HTTP","uri","\n      request","request","\n      puts ","source ","\"https:\u002F\u002Fgems.ruby-china.com\u002F\"","\ngem ","\"fastlane\"","\n\nhttps","--","gems","ruby","china","com","plugins_path","https:\u002F\u002Fappleid.apple.com\u002Faccount\u002Fmanage","https:\u002F\u002Fappleid.apple.com\u002F","FASTLANE_SESSION",".zshrc","class-name","ol","`","WebViewJavascriptBridge源码分析",void 0)));