__NUXT_JSONP__("/wiki/content/Docker-docker-redis", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO){return {data:[{},{article:{slug:ab,title:ac,layout:"page",date:ad,collection:ae,toc:[{id:af,depth:N,text:ag},{id:O,depth:N,text:O},{id:ah,depth:X,text:ai},{id:K,depth:X,text:K},{id:aj,depth:X,text:ak},{id:P,depth:N,text:P},{id:Q,depth:N,text:Q}],body:{type:"root",children:[{type:b,tag:al,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"主要参考自 "},{type:b,tag:o,props:{href:am,rel:[C,D,E],target:F},children:[{type:a,value:am}]},{type:a,value:" 并做相应的修改"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:R,props:{id:af},children:[{type:b,tag:o,props:{href:"#redis",ariaHidden:v,tabIndex:w},children:[{type:b,tag:c,props:{className:[x,y]},children:[]}]},{type:a,value:ag}]},{type:a,value:e},{type:b,tag:al,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"macOS上安装Redis一般使用hombrew\n安装: brew install redis\n启动: redis-server"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"这里主要介绍docker上运行,以及一些问题"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"拉取镜像并尝试启动,以作简单调试"}]},{type:a,value:e},{type:b,tag:k,props:{className:[l]},children:[{type:b,tag:m,props:{className:[n,p]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"#拉取镜像,默认最新"}]},{type:a,value:"\ndocker pull redis\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"如果简单调试,直接执行以下命令就可以了:"}]},{type:a,value:e},{type:b,tag:k,props:{className:[l]},children:[{type:b,tag:m,props:{className:[n,p]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"docker run --name redis -d -p "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:":6379 redis\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"执行"},{type:b,tag:i,props:{},children:[{type:a,value:"redis-cli"}]}]},{type:a,value:e},{type:b,tag:k,props:{className:[l]},children:[{type:b,tag:m,props:{className:[n,p]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"docker "},{type:b,tag:c,props:{className:[d,z,A]},children:[{type:a,value:Y}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:S}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:G}]},{type:a,value:an}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"远程连接"}]},{type:a,value:e},{type:b,tag:k,props:{className:[l]},children:[{type:b,tag:m,props:{className:[n,p]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ao}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aq}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:R,props:{id:O},children:[{type:b,tag:o,props:{href:"#%E5%90%AF%E5%8A%A8%E8%AD%A6%E5%91%8A%E5%88%86%E6%9E%90",ariaHidden:v,tabIndex:w},children:[{type:b,tag:c,props:{className:[x,y]},children:[]}]},{type:a,value:O}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"启动时可以看到基础警告,"}]},{type:a,value:e},{type:b,tag:k,props:{className:[l]},children:[{type:b,tag:m,props:{className:[n,p]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"root@aml:~\u002Fdocker\u002Fredis"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# docker run --name redis  redis"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# Redis version=5.0.5, bits=64, commit=00000000, modified=0, pid=1, just started"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:as}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:" 09:28:40.076 * Running "},{type:b,tag:c,props:{className:[d,at,u]},children:[{type:a,value:"mode"}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:H}]},{type:a,value:"standalone, "},{type:b,tag:c,props:{className:[d,at,u]},children:[{type:a,value:"port"}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:".\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# WARNING: The TCP backlog setting of 511 cannot be enforced because \u002Fproc\u002Fsys\u002Fnet\u002Fcore\u002Fsomaxconn is set to the lower value of 128."}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# Server initialized"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# WARNING overcommit_memory is set to 0! Background save may fail under low memory condition. To fix this issue add 'vm.overcommit_memory = 1' to \u002Fetc\u002Fsysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect."}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:au}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:" 09:28:40.076 * Ready to accept connections\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"有几处警告: "},{type:b,tag:o,props:{href:av,rel:[C,D,E],target:F},children:[{type:a,value:av}]}]},{type:a,value:e},{type:b,tag:_,props:{id:ah},children:[{type:b,tag:o,props:{href:"#tcp-backlog",ariaHidden:v,tabIndex:w},children:[{type:b,tag:c,props:{className:[x,y]},children:[]}]},{type:a,value:ai}]},{type:a,value:e},{type:b,tag:k,props:{className:[l]},children:[{type:b,tag:m,props:{className:[n,p]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:as}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"意思是：TCP  backlog设置值，511没有成功，因为 \u002Fproc\u002Fsys\u002Fnet\u002Fcore\u002Fsomaxconn这个设置的是更小的128.   "},{type:b,tag:o,props:{href:"http:\u002F\u002Fblog.csdn.net\u002Fraintungli\u002Farticle\u002Fdetails\u002F37913765",rel:[C,D,E],target:F},children:[{type:a,value:"linux里的backlog详解"}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:"em",props:{},children:[{type:a,value:"解决方法:"}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"参考"},{type:b,tag:o,props:{href:"https:\u002F\u002Fgithub.com\u002Fdocker-library\u002Fredis\u002Fissues\u002F35",rel:[C,D,E],target:F},children:[{type:a,value:"issue"}]},{type:a,value:"。docker启动redis时加参数"},{type:b,tag:i,props:{},children:[{type:a,value:"--sysctl net.core.somaxconn=511"}]},{type:a,value:",这种解决方式比较简单。"}]},{type:a,value:e},{type:b,tag:k,props:{className:[l]},children:[{type:b,tag:m,props:{className:[n,p]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"#发现启动时没有该错误了"}]},{type:a,value:"\ndocker run --name redis --rm  --sysctl net.core.somaxconn"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aw}]},{type:a,value:" redis\n"}]}]}]},{type:a,value:e},{type:b,tag:_,props:{id:K},children:[{type:b,tag:o,props:{href:"#overcommit_memory",ariaHidden:v,tabIndex:w},children:[{type:b,tag:c,props:{className:[x,y]},children:[]}]},{type:a,value:K}]},{type:a,value:e},{type:b,tag:k,props:{className:[l]},children:[{type:b,tag:m,props:{className:[n,p]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"#WARNING overcommit_memory is set to 0! Background save may fail under low memory condition. To fix this issue add 'vm.overcommit_memory = 1' to \u002Fetc\u002Fsysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect."}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"意思是：overcommit_memory参数设置为0！在内存不足的情况下，后台程序save可能失败。"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:K}]},{type:a,value:"表示内存分配策略:\n0  表示内核将检查是否有足够的可用内存供应用进程使用；如果有足够的可用内存，内存申请允许；否则，内存申请失败，并把错误返回给应用进程\n1  表示内核允许分配所有的物理内存，而不管当前的内存状态如何。\n2  表示内核允许分配超过所有物理内存和交换空间总和的内存"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"参考此处: "},{type:b,tag:o,props:{href:ax,rel:[C,D,E],target:F},children:[{type:a,value:ax}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"vm.overcommit_memory"}]},{type:a,value:"不能直接用"},{type:b,tag:i,props:{},children:[{type:a,value:"--sysctl"}]},{type:a,value:"来设置。"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:ay,props:{},children:[{type:b,tag:o,props:{href:"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F41203492\u002Fsolving-redis-warnings-on-overcommit-memory-and-transparent-huge-pages-for-ubunt",rel:[C,D,E],target:F},children:[{type:a,value:"解决方法"}]}]},{type:a,value:":"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:ay,props:{},children:[{type:a,value:"添加行vm.overcommit_memory=1至底部\u002Fetc\u002Fsysctl.conf"}]},{type:a,value:"  (未解决有时间再研究)"}]},{type:a,value:e},{type:b,tag:_,props:{id:aj},children:[{type:b,tag:o,props:{href:"#thp",ariaHidden:v,tabIndex:w},children:[{type:b,tag:c,props:{className:[x,y]},children:[]}]},{type:a,value:ak}]},{type:a,value:e},{type:b,tag:k,props:{className:[l]},children:[{type:b,tag:m,props:{className:[n,p]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:r}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:au}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"意思是：你使用的是透明大页，可能导致redis延迟和内存使用问题。"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"解决方法,宿主机器（linux）执行如下命令:"}]},{type:a,value:e},{type:b,tag:k,props:{className:[l]},children:[{type:b,tag:m,props:{className:[n,p]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,z,A]},children:[{type:a,value:az}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:G}]},{type:a,value:" \u002Fsys\u002Fkernel\u002Fmm\u002Ftransparent_hugepage\u002Fenabled\n"},{type:b,tag:c,props:{className:[d,z,A]},children:[{type:a,value:az}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:G}]},{type:a,value:" \u002Fsys\u002Fkernel\u002Fmm\u002Ftransparent_hugepage\u002Fdefrag\n"}]}]}]},{type:a,value:e},{type:b,tag:R,props:{id:P},children:[{type:b,tag:o,props:{href:"#%E5%9F%BA%E6%9C%AC%E7%9A%84%E5%90%AF%E5%8A%A8%E9%85%8D%E7%BD%AE",ariaHidden:v,tabIndex:w},children:[{type:b,tag:c,props:{className:[x,y]},children:[]}]},{type:a,value:P}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"创建redis目录,并在目录下添加"},{type:b,tag:i,props:{},children:[{type:a,value:"data"}]},{type:a,value:"文件夹、"},{type:b,tag:i,props:{},children:[{type:a,value:"config"}]},{type:a,value:"文件夹。"}]},{type:a,value:e},{type:b,tag:k,props:{className:[l]},children:[{type:b,tag:m,props:{className:[n,"language-text"]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"└── redis\n    ├── config\n    │   └── redis.conf\n    └── data\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"下载配置文件到config文件夹"}]},{type:a,value:e},{type:b,tag:k,props:{className:[l]},children:[{type:b,tag:m,props:{className:[n,p]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,aB]},children:[{type:a,value:"wget"}]},{type:a,value:" http:\u002F\u002Fdownload.redis.io\u002Fredis-stable\u002Fredis.conf -O config\u002Fredis.conf\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 直接替换编辑(可选)"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"#sed -i 's\u002Flogfile \"\"\u002Flogfile \"access.log\"\u002F' conf\u002Fredis.conf"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"#sed -i 's\u002F# requirepass foobared\u002Frequirepass 123456\u002F' conf\u002Fredis.conf"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"#sed -i 's\u002Fappendonly no\u002Fappendonly yes\u002F' conf\u002Fredis.conf"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 这里可能还需配置一些 bind protected-mode"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"#protected-mode 是在没有显示定义 bind 地址（即监听全网断），又没有设置密码 requirepass时，protected-mode 只允许本地回环 127.0.0.1 访问。"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"#也就是说当开启了 protected-mode 时，如果你既没有显示的定义了 bind 监听的地址，同时又没有设置 auth 密码。那你只能通过 127.0.0.1 来访问 redis 服务。"}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"编写启动脚本:"}]},{type:a,value:e},{type:b,tag:k,props:{className:[l]},children:[{type:b,tag:m,props:{className:[n,p]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"docker run --name redis --restart"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:H}]},{type:a,value:"always"},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:J}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,u]},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,z,A]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:W}]}]},{type:a,value:"\u002Fredis\u002Fdata:\u002Fdata:rw  "},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:J}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,u]},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,z,A]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:W}]}]},{type:a,value:"\u002Fredis\u002Fconfig\u002Fredis.conf:\u002Fetc\u002Fredis\u002Fredis.conf:ro"},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:J}]},{type:a,value:"\n    --privileged"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:H}]},{type:a,value:"true "},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:J}]},{type:a,value:"\n    --sysctl net.core.somaxconn"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aw}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:J}]},{type:a,value:"\n    -d -p "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:":6379  "},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:J}]},{type:a,value:"\n    redis redis-server \u002Fetc\u002Fredis\u002Fredis.conf\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"#参数解释"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# :rw 为读写  :ro 为ro 为readonly"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# --privileged=true \\ # 给与一些权限"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# --sysctl net.core.somaxconn=511 见启动警告说明"}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:R,props:{id:Q},children:[{type:b,tag:o,props:{href:"#%E8%AE%BF%E9%97%AE",ariaHidden:v,tabIndex:w},children:[{type:b,tag:c,props:{className:[x,y]},children:[]}]},{type:a,value:Q}]},{type:a,value:e},{type:b,tag:k,props:{className:[l]},children:[{type:b,tag:m,props:{className:[n,p]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"#访问reids"}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,z,A]},children:[{type:a,value:Y}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:S}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:G}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,aB]},children:[{type:a,value:"bash"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"#访问cli "}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,z,A]},children:[{type:a,value:Y}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:S}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:G}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"#重新启动"}]},{type:a,value:"\ndocker restart "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:S}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:G}]},{type:a,value:" \n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ao}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aq}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:e}]}]}]}]},dir:"\u002Fwiki\u002FLinux\u002FDocker",path:aG,extension:".md",createdAt:aH,updatedAt:aH},prev:{slug:"Spring-springboot-kaptcha",title:"springboot之kaptcha验证码",date:aI},next:{slug:"idea-idea-j-warnning",title:"intelliJ IDEA:JAVA文件名黄色J警告问题",date:"2019-05-27T00:00:00.000Z"},scrollTop:aJ,sideCategory:[{folderName:"Linux",articles:[{slug:"Linux-2019-02-26",title:"(转)AWS ec2使用教程",date:$,path:"\u002Fwiki\u002FLinux\u002FLinux-2019-02-26"},{slug:"Linux-2019-03-06",title:"yum 404问题",date:$,path:"\u002Fwiki\u002FLinux\u002FLinux-2019-03-06"},{slug:"Linux-Apache反向代理到ngrok",title:"Apache反向代理到ngrok",date:"2017-07-18T00:00:00.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux-Apache反向代理到ngrok"},{slug:"Linux-CentOS LAMP 环境配置 + wordpress (阿里云ECS)",title:"CentOS LAMP 环境配置 + wordpress (阿里云ECS)",date:aK,path:"\u002Fwiki\u002FLinux\u002FLinux-CentOS LAMP 环境配置 + wordpress (阿里云ECS)"},{slug:"Linux-CentOS LAMP 配置https",title:"CentOS LAMP 配置https",date:aK,path:"\u002Fwiki\u002FLinux\u002FLinux-CentOS LAMP 配置https"},{slug:"Linux-SSH-Keys",title:"How To Set Up SSH Keys",date:"2017-08-19T16:14:59.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux-SSH-Keys"},{slug:"Linux-centOS LNMP 环境配置",title:"centOS LNMP 环境配置",date:aL,path:"\u002Fwiki\u002FLinux\u002FLinux-centOS LNMP 环境配置"},{slug:"Linux-centos-install-config",title:"CentOS装机配置",date:"2020-07-17T00:00:00.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux-centos-install-config"},{slug:"Linux-centos-vue-springbot-env",title:"CentOS环境下打包配置(vue\u002Fspringbot)",date:"2020-03-08T00:00:00.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux-centos-vue-springbot-env"},{slug:"Linux-fabric",title:"fabric部署网站应用",date:"2018-01-13T14:22:40.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux-fabric"},{slug:"Linux-google-cloud-ss",title:"Google Cloud安装SS服务",date:aM,path:"\u002Fwiki\u002FLinux\u002FLinux-google-cloud-ss"},{slug:"Linux-install-ngrok",title:"ngrok",date:"2017-07-13T18:19:10.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux-install-ngrok"},{slug:"Linux-install-redis-by-homebrew",title:"homebrew安装redis以及常用命令",date:aN,path:"\u002Fwiki\u002FLinux\u002FLinux-install-redis-by-homebrew"},{slug:"Linux-macOS JAVA开发环境配置",title:"macOS JAVA开发环境配置",date:"2016-10-01T17:15:33.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux-macOS JAVA开发环境配置"},{slug:"Linux-macOS上kafka搭建",title:"macOS环境kafka环境搭建[译]",date:"2019-05-28T00:00:00.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux-macOS上kafka搭建"},{slug:"Linux-macOS上搭建RAP环境",title:"macOS上搭建RAP环境",date:aO,path:"\u002Fwiki\u002FLinux\u002FLinux-macOS上搭建RAP环境"},{slug:"Linux-macOS同时启动多个tomcat",title:"macOS同时启动多个tomcat",date:aO,path:"\u002Fwiki\u002FLinux\u002FLinux-macOS同时启动多个tomcat"},{slug:"Linux-pd-centos-java",title:"pd安装centOS虚拟机并配置Java环境",date:aL,path:"\u002Fwiki\u002FLinux\u002FLinux-pd-centos-java"},{slug:"Linux-speed-test",title:"测试延迟 tcping、httpstat",date:$,path:"\u002Fwiki\u002FLinux\u002FLinux-speed-test"},{slug:"Linux-su命令提示Authentication failure的解决办法",title:"su命令提示Authentication failure的解决办法",date:"2017-09-13T10:18:11.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux-su命令提示Authentication failure的解决办法"},{slug:"Linux-tomcat配置https自签名证书 && iOS访问https接口",title:"tomcat配置https自签名证书 && iOS访问https接口",date:"2016-12-06 20:08",path:"\u002Fwiki\u002FLinux\u002FLinux-tomcat配置https自签名证书 && iOS访问https接口"},{slug:"Linux-tomcat配置自签名的https",title:"tomcat配置自签名的https.md",date:aa,path:"\u002Fwiki\u002FLinux\u002FLinux-tomcat配置自签名的https"},{slug:"Linux-type-speed",title:"打字训练",date:"2019-08-01T00:00:00.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux-type-speed"},{slug:"Linux-vps免密的一些配置",date:"2020-11-11T08:27:38.000Z",title:"Vps免密的一些配置",path:"\u002Fwiki\u002FLinux\u002FLinux-vps免密的一些配置"},{slug:"Linux-yum-aliyun-repo",title:"将yum源更换为国内的阿里云源",date:"2017-07-14T12:57:48.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux-yum-aliyun-repo"}],children:[{folderName:ae,articles:[{slug:"Docker-2019-03-07",title:"nginx + php + mysql 环境搭建",date:aN,path:"\u002Fwiki\u002FLinux\u002FDocker\u002FDocker-2019-03-07"},{slug:"Docker-Docker基础笔记",title:"Docker基础笔记",date:aa,path:"\u002Fwiki\u002FLinux\u002FDocker\u002FDocker-Docker基础笔记"},{slug:"Docker-docker-nginx-how-to-vist-localhost",title:"docker(nginx)内访问宿主机localhost",date:"2019-01-29T10:24:51.000Z",path:"\u002Fwiki\u002FLinux\u002FDocker\u002FDocker-docker-nginx-how-to-vist-localhost"},{slug:"Docker-docker-posgres",title:"docker中使用postgresSQL",date:aI,path:"\u002Fwiki\u002FLinux\u002FDocker\u002FDocker-docker-posgres"},{slug:ab,title:ac,date:ad,path:aG},{slug:"Docker-docker-spring-boot",title:"springboot项目打包成docker",date:"2019-06-12T00:00:00.000Z",path:"\u002Fwiki\u002FLinux\u002FDocker\u002FDocker-docker-spring-boot"},{slug:"Docker-onlyoffice-usage",title:"OnlyOffice\u002FDocumentServer搭建",date:"2019-01-05T12:20:26.000Z",path:"\u002Fwiki\u002FLinux\u002FDocker\u002FDocker-onlyoffice-usage"}],children:[]},{folderName:"Linux命令",articles:[{slug:"Linux命令-chown和chmod的区别",date:"2020-10-23T07:35:41.000Z",title:"Chown和chmod的区别",path:"\u002Fwiki\u002FLinux\u002FLinux命令\u002FLinux命令-chown和chmod的区别"},{slug:"Linux命令-curl",title:"curl",date:"2017-08-31T20:49:00.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux命令\u002FLinux命令-curl"},{slug:"Linux命令-diff",title:"diff",date:"2017-09-03T21:05:20.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux命令\u002FLinux命令-diff"},{slug:"Linux命令-different-bin-sbin",title:"\u002Fbin,\u002Fsbin,\u002Fusr\u002Fsbin,\u002Fusr\u002Fbin目录区别",date:"2019-01-29T00:00:00.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux命令\u002FLinux命令-different-bin-sbin"},{slug:"Linux命令-linux-alias",title:"alias",date:"2017-07-14T21:19:45.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux命令\u002FLinux命令-linux-alias"},{slug:"Linux命令-nano",title:"nano",date:"2017-08-19T15:28:42.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux命令\u002FLinux命令-nano"},{slug:"Linux命令-passwd",date:"2020-10-26T08:44:41.000Z",title:"Passwd",path:"\u002Fwiki\u002FLinux\u002FLinux命令\u002FLinux命令-passwd"},{slug:"Linux命令-rm",title:"rm递归删除",date:"2018-01-19T08:37:24.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux命令\u002FLinux命令-rm"},{slug:"Linux命令-scp",title:"scp",date:"2017-07-10T22:58:10.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux命令\u002FLinux命令-scp"},{slug:"Linux命令-sed",title:"sed",date:"2017-11-26T15:32:39.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux命令\u002FLinux命令-sed"},{slug:"Linux命令-tail",title:"tail",date:"2017-08-28T09:51:05.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux命令\u002FLinux命令-tail"},{slug:"Linux命令-vim-keycue",title:"vim常用快捷键",date:"2019-01-18T08:41:24.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux命令\u002FLinux命令-vim-keycue"},{slug:"Linux命令-vim",title:"vim",date:"2017-07-14T22:58:10.000Z",path:"\u002Fwiki\u002FLinux\u002FLinux命令\u002FLinux命令-vim"}],children:[]},{folderName:"centos",articles:[{slug:"centos-yum安装提示无可用包",title:"yum安装提示无可用包",date:"2020-05-17T00:00:00.000Z",path:"\u002Fwiki\u002FLinux\u002Fcentos\u002Fcentos-yum安装提示无可用包"}],children:[]},{folderName:"nginx",articles:[{slug:"nginx-google-cloud-nginx",title:"nginx安装配置(Google Cloud，centos7)",date:aM,path:"\u002Fwiki\u002FLinux\u002Fnginx\u002Fnginx-google-cloud-nginx"},{slug:"nginx-nginx-https-config",title:"nginx中的https配置小记",date:"2020-03-07T00:00:00.000Z",path:"\u002Fwiki\u002FLinux\u002Fnginx\u002Fnginx-nginx-https-config"},{slug:"nginx-nginx-setting",title:"nginx相关配置",date:aa,path:"\u002Fwiki\u002FLinux\u002Fnginx\u002Fnginx-nginx-setting"}],children:[]},{folderName:"插件工具",articles:[{slug:"插件工具-ServerStatus",title:"安装serverstatus监听服务器状态",date:"2018-03-08T12:30:38.000Z",path:"\u002Fwiki\u002FLinux\u002F插件工具\u002F插件工具-ServerStatus"},{slug:"插件工具-htop",title:"htop",date:"2018-07-22T16:04:52.000Z",path:"\u002Fwiki\u002FLinux\u002F插件工具\u002F插件工具-htop"}],children:[]},{folderName:"搞机",articles:[{slug:"搞机-斐讯n1刷机",title:"斐讯n1刷入armbian记录",date:"2019-04-22T00:00:00.000Z",path:"\u002Fwiki\u002FLinux\u002F搞机\u002F搞机-斐讯n1刷机"}],children:[]}]}]}],fetch:{},mutations:aJ}}("text","element","span","token","\n","number","comment","p","code","operator","div","nuxt-content-highlight","pre","line-numbers","a","language-bash","1","22"," May ","2019","variable","true",-1,"icon","icon-link","builtin","class-name",":M ","nofollow","noopener","noreferrer","_blank","\u003E","=","punctuation","\\","overcommit_memory","6379"," 09:28:40.076 ",2,"启动警告分析","基本的启动配置","访问","h2","\u003C","名称\u002Fid",":C "," 09:28:40.070 ","`",3,"exec"," -it ","h3","2019-02-26T00:00:00.000Z","2018-09-04T13:53:00.000Z","Docker-docker-redis","docker中使用redis","2019-05-23T00:00:00.000Z","Docker","redis","Redis","tcp-backlog","TCP backlog","thp","THP","blockquote","https:\u002F\u002Fsegmentfault.com\u002Fa\u002F1190000014091287"," redis-cli\n","#远程连接 比如我docker宿主机ip为10.10.39.57,redis映射的端口为6379","\nredis-cli -h ","10.10",".39.57 -p ","# Warning: no config file specified, using the default config. In order to specify a config file use redis-server \u002Fpath\u002Fto\u002Fredis.conf","assign-left","# WARNING you have Transparent Huge Pages (THP) support enabled in your kernel. This will create latency and memory usage issues with Redis. To fix this issue run the command 'echo never \u003E \u002Fsys\u002Fkernel\u002Fmm\u002Ftransparent_hugepage\u002Fenabled' as root, and add it to your \u002Fetc\u002Frc.local in order to retain the setting after a reboot. Redis must be restarted after THP is disabled.","https:\u002F\u002Fblog.51cto.com\u002Fmashushu\u002F1926941","511","https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F43843197\u002Fhow-to-fix-the-warnings-when-running-the-redisalpine-docker-image","del","echo"," never ","function","\n    -v ","pwd"," ","\ndocker ","\u002Fwiki\u002FLinux\u002FDocker\u002FDocker-docker-redis","2021-09-15T02:13:46.487Z","2019-05-22T00:00:00.000Z",void 0,"2017-06-04T00:00:00.000Z","2017-07-14T10:51:30.000Z","2018-02-28T21:34:42.000Z","2019-03-07T00:00:00.000Z","2017-08-24T10:24:01.000Z")));