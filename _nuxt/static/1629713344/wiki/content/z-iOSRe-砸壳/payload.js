__NUXT_JSONP__("/wiki/content/z-iOSRe-%E7%A0%B8%E5%A3%B3", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$){return {data:[{},{article:{slug:H,title:I,layout:"page",date:J,toc:[{id:q,depth:r,text:q},{id:s,depth:r,text:s},{id:t,depth:r,text:t},{id:u,depth:r,text:u}],body:{type:"root",children:[{type:b,tag:i,props:{},children:[{type:a,value:"原文地址 "},{type:b,tag:f,props:{href:K,rel:[j,k,l],target:m},children:[{type:a,value:K}]}]},{type:a,value:g},{type:b,tag:i,props:{},children:[{type:b,tag:f,props:{href:"https:\u002F\u002Faberlt.github.io\u002F2017\u002F12\u002F14\u002F%E8%AE%B0%E7%A0%B8%E5%A3%B3%E5%B7%A5%E5%85%B7-frida-ios-dump-%E7%9A%84%E4%BD%BF%E7%94%A8\u002F#%E4%BD%BF%E7%94%A8-frida-ios-dump",rel:[j,k,l],target:m},children:[{type:a,value:"https:\u002F\u002Faberlt.github.io\u002F2017\u002F12\u002F14\u002F记砸壳工具-frida-ios-dump-的使用\u002F#使用-frida-ios-dump"}]}]},{type:a,value:g},{type:b,tag:v,props:{id:q},children:[{type:b,tag:f,props:{href:"#%E8%83%8C%E6%99%AF",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:q}]},{type:a,value:g},{type:b,tag:i,props:{},children:[{type:a,value:"最早的砸壳工具是stefanesser写的"},{type:b,tag:f,props:{href:"https:\u002F\u002Fgithub.com\u002Fstefanesser\u002Fdumpdecrypted",rel:[j,k,l],target:m},children:[{type:a,value:L}]},{type:a,value:"，通过手动注入然后启动应用程序在内存进行dump解密后的内存实现砸壳，这种砸壳只能砸主App可执行文件。"}]},{type:a,value:g},{type:b,tag:i,props:{},children:[{type:a,value:"对于应用程序里面存在framework的情况可以使用conradev的"},{type:b,tag:f,props:{href:"https:\u002F\u002Fgithub.com\u002Fconradev\u002Fdumpdecrypted",rel:[j,k,l],target:m},children:[{type:a,value:L}]},{type:a,value:"，通过"},{type:b,tag:D,props:{},children:[{type:a,value:"_dyld_register_func_for_add_image"}]},{type:a,value:"注册回调对每个模块进行dump解密。"}]},{type:a,value:g},{type:b,tag:i,props:{},children:[{type:a,value:"但是这种还是需要拷贝"},{type:b,tag:D,props:{},children:[{type:a,value:"dumpdecrypted.dylib"}]},{type:a,value:"，然后找路径什么的，还是挺麻烦的。所以笔者干脆放到"},{type:b,tag:f,props:{href:"https:\u002F\u002Fgithub.com\u002FAloneMonkey\u002FMonkeyDev",rel:[j,k,l],target:m},children:[{type:a,value:"MonkeyDev"}]},{type:a,value:"模板变成一个tweak的形式dumpdecrypted，这样填写目标bundle id然后看日志把文件拷贝出来就可以了。"}]},{type:a,value:g},{type:b,tag:i,props:{},children:[{type:a,value:"但是还是很麻烦，需要拷贝文件自己还原ipa，然后有了KJCracks的"},{type:b,tag:f,props:{href:"https:\u002F\u002Fgithub.com\u002FKJCracks\u002FClutch",rel:[j,k,l],target:m},children:[{type:a,value:"Clutch"}]},{type:a,value:"通过posix_spawnp创建进程然后dump直接生成ipa包在设备，可以说是很方便了。这个是工具在使用的时候大部分应用会出报错，此外生成的包还需要自己拷贝。"}]},{type:a,value:g},{type:b,tag:v,props:{id:s},children:[{type:b,tag:f,props:{href:"#%E4%B8%80%E9%94%AEdump",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:s}]},{type:a,value:g},{type:b,tag:i,props:{},children:[{type:a,value:"人都是想偷懒的，于是便有了本文将要介绍的"},{type:b,tag:f,props:{href:"https:\u002F\u002Fgithub.com\u002FAloneMonkey\u002Ffrida-ios-dump",rel:[j,k,l],target:m},children:[{type:a,value:"frida-ios-dump"}]},{type:a,value:"，该工具基于frida提供的强大功能通过注入js实现内存dump然后通过python自动拷贝到电脑生成ipa文件，通过以下方式配置完成之后真的就是一条命令砸壳。"}]},{type:a,value:g},{type:b,tag:v,props:{id:t},children:[{type:b,tag:f,props:{href:"#%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:t}]},{type:a,value:g},{type:b,tag:i,props:{},children:[{type:a,value:"首先上面也说了该工具基于frida，所以首先要在手机和mac电脑上面安装frida，安装方式参数官网的文档:"},{type:b,tag:f,props:{href:M,rel:[j,k,l],target:m},children:[{type:a,value:M}]}]},{type:a,value:g},{type:b,tag:v,props:{id:u},children:[{type:b,tag:f,props:{href:"#%E5%BE%85%E7%BB%AD",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:u}]},{type:a,value:g},{type:b,tag:"div",props:{className:["nuxt-content-highlight"]},children:[{type:b,tag:"pre",props:{className:["language-bash","line-numbers"]},children:[{type:b,tag:D,props:{},children:[{type:a,value:"➜  ~ "},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:N}]},{type:a,value:" pip "},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:O}]},{type:a,value:" frida --ignore-installed six\n\nThe directory "},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"'\u002FUsers\u002Ftyrad\u002FLibrary\u002FCaches\u002Fpip\u002Fhttp'"}]},{type:a,value:" or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want "},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"'s -H flag.\nThe directory '"}]},{type:a,value:"\u002FUsers\u002Ftyrad\u002FLibrary\u002FCaches\u002Fpip"},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"' or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo'"}]},{type:a,value:"s -H flag.\nCollecting frida\n  Downloading frida-10.6.54.tar.gz\nCollecting six\n  Downloading six-1.11.0-py2.py3-none-any.whl\nCollecting colorama"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"0.2"}]},{type:a,value:".7 "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:"\n  Downloading colorama-0.3.9-py2.py3-none-any.whl\nCollecting prompt-toolkit"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:P}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:"\n  Downloading prompt_toolkit-1.0.15-py2-none-any.whl "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"247kB"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:S}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:a,value:" 256kB 29kB\u002Fs\nCollecting pygments"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"2.0"}]},{type:a,value:".2 "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:"\n  Downloading Pygments-2.2.0-py2.py3-none-any.whl "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"841kB"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:S}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:a,value:" 849kB 21kB\u002Fs\nCollecting wcwidth "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"from prompt-toolkit"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:P}]},{type:a,value:"-"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\u003E"}]},{type:a,value:"frida"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:"\n  Downloading wcwidth-0.1.7-py2.py3-none-any.whl\nInstalling collected packages: colorama, wcwidth, six, prompt-toolkit, pygments, frida\n  Running setup.py "},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:O}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:"for"}]},{type:a,value:" frida "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:".."}]},{type:a,value:". "},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:"done"}]},{type:a,value:"\nSuccessfully installed colorama-0.3.9 frida-10.6.54 prompt-toolkit-1.0.15 pygments-2.2.0 six-1.11.0 wcwidth-0.1.7\n"}]}]}]}]},dir:"\u002Fwiki\u002Fz-iOSRe",path:W,extension:".md",createdAt:X,updatedAt:X},prev:{slug:Y,title:Z,date:_},next:{slug:"web-chrome-plugin-dev",title:"chrome插件开发: 撸一个灯塔答题辅助",date:"2018-02-26T16:04:08.000Z"},scrollTop:$,sideCategory:[{folderName:"z-iOSRe",articles:[{slug:"z-iOSRe-Dynamic Libraries",title:"Dynamic Libraries",date:"2018-02-13T15:29:03.000Z",path:"\u002Fwiki\u002Fz-iOSRe\u002Fz-iOSRe-Dynamic Libraries"},{slug:"z-iOSRe-GDB使用",title:"LLDB+debugserver",date:"2018-02-17T10:33:51.000Z",path:"\u002Fwiki\u002Fz-iOSRe\u002Fz-iOSRe-GDB使用"},{slug:"z-iOSRe-class-dump",title:"安装class-dump",date:G,path:"\u002Fwiki\u002Fz-iOSRe\u002Fz-iOSRe-class-dump"},{slug:Y,title:Z,date:_,path:"\u002Fwiki\u002Fz-iOSRe\u002Fz-iOSRe-dyld_decache"},{slug:"z-iOSRe-reveal-app",title:"Reveal+越狱手机,查看app UI层级",date:"2017-12-21T00:00:00.000Z",path:"\u002Fwiki\u002Fz-iOSRe\u002Fz-iOSRe-reveal-app"},{slug:"z-iOSRe-ssh-pwd",title:"Jailbreak:修改ssh密码",date:G,path:"\u002Fwiki\u002Fz-iOSRe\u002Fz-iOSRe-ssh-pwd"},{slug:"z-iOSRe-theos-usage",title:"theos安装使用",date:G,path:"\u002Fwiki\u002Fz-iOSRe\u002Fz-iOSRe-theos-usage"},{slug:H,title:I,date:J,path:W},{slug:"z-iOSRe-越狱手机免密登录",title:"免密登录",date:"2019-03-05T00:00:00.000Z",path:"\u002Fwiki\u002Fz-iOSRe\u002Fz-iOSRe-越狱手机免密登录"}],children:[]}]}],fetch:{},mutations:$}}("text","element","span","token","punctuation","a","\n","operator","p","nofollow","noopener","noreferrer","_blank","number","(",")","背景",2,"一键dump","环境配置","待续","h2","true",-1,"icon","icon-link","function","\u003E=","|","code","string","from frida","2018-01-23T00:00:00.000Z","z-iOSRe-砸壳","(转)一键砸壳","2018-02-22T19:31:39.000Z","http:\u002F\u002Fwww.alonemonkey.com\u002F2018\u002F01\u002F30\u002Ffrida-ios-dump\u002F","dumpdecrypted","https:\u002F\u002Fwww.frida.re\u002Fdocs\u002Fhome\u002F","sudo","install","0.57"," ","\n    ","100","% ","████████████████████████████████","keyword","\u002Fwiki\u002Fz-iOSRe\u002Fz-iOSRe-砸壳","2021-08-23T10:08:02.347Z","z-iOSRe-dyld_decache","dyld_decache","2018-02-20T00:00:00.000Z",void 0)));