__NUXT_JSONP__("/wiki/content/%E6%9D%82%E8%AE%B0-wiki%E9%A1%B5%E9%9D%A2%E7%9A%84md%E6%96%87%E4%BB%B6%E6%95%B4%E7%90%86", (function(a,b,c,d,e,f,g,h,i,j,k){return {data:[{},{article:{slug:c,draft:true,date:d,title:e,toc:[],body:{type:"root",children:[{type:a,tag:f,props:{},children:[{type:b,value:"需求，读取wiki目录下的所有子目录,子目录的md根据头部yam的collection字段分组到文件夹。"}]},{type:b,value:g},{type:a,tag:f,props:{},children:[{type:b,value:"代码脚本如下:"}]},{type:b,value:g},{type:a,tag:"div",props:{className:["nuxt-content-highlight"]},children:[{type:a,tag:"pre",props:{className:["language-text","line-numbers"]},children:[{type:a,tag:"code",props:{},children:[{type:b,value:"package main\n\nimport (\n    \"fmt\"\n    \"gopkg.in\u002Fyaml.v2\"\n    \"io\u002Fioutil\"\n    \"os\"\n)\n\ntype Blog struct {\n    Title      string `yaml:\"title\"`\n    Collection string `yaml:\"collection\"`\n}\n\nfunc ReadYamlConfig(path string) (*Blog, error) {\n    conf := &Blog{}\n    if f, err := os.Open(path); err != nil {\n        return nil, err\n    } else {\n        err := yaml.NewDecoder(f).Decode(conf)\n        if err != nil {\n            fmt.Println(\"yaml 解析error:\", err)\n        }\n        return conf, err\n    }\n}\n\nfunc main() {\n    print(\"start...\")\n    wikiPath := \"\u002FUsers\u002Fpanda\u002Fhugo-coder\u002Fcontent\u002Fwiki\"\n    files, _ := ioutil.ReadDir(wikiPath)\n    for _, f := range files {\n        if f.IsDir() {\n            fmt.Println(\"当前目录为\", f.Name())\n            subFiles, _ := ioutil.ReadDir(wikiPath + \"\u002F\" + f.Name())\n            for _, sf := range subFiles {\n                if !sf.IsDir() && sf.Name() != \".DS_Store\" {\n                    filepathbegin := wikiPath + \"\u002F\" + f.Name() + \"\u002F\" + sf.Name()\n                    fmt.Println(filepathbegin)\n\n                    blog, err := ReadYamlConfig(wikiPath + \"\u002F\" + f.Name() + \"\u002F\" + sf.Name())\n                    if err != nil {\n                        fmt.Println(\"读取yaml失败\", err)\n                    }\n                    if blog.Collection != \"\" {\n                        fmt.Println(blog.Collection)\n                        gpath := wikiPath + \"\u002F\" + f.Name() + \"\u002F\" + blog.Collection\n                        filepathend := wikiPath + \"\u002F\" + f.Name() + \"\u002F\" + blog.Collection + \"\u002F\" + sf.Name()\n                        fmt.Println(filepathend)\n                        \u002F\u002F 查看目录是否存在\n                        if _, err := os.Stat(gpath); os.IsNotExist(err) {\n                            fmt.Println(\"目录不存在\")\n                            _ = os.Mkdir(gpath, 0755)\n                            _ = os.Rename(filepathbegin, filepathend)\n                        } else {\n                            fmt.Println(\"目录存在\")\n                            _ = os.Rename(filepathbegin, filepathend)\n                        }\n                    }\n                }\n            }\n            fmt.Println(\"--------------------------\")\n        }\n    }\n}\n"}]}]}]}]},dir:"\u002Fwiki\u002F杂记",path:h,extension:".md",createdAt:i,updatedAt:i},prev:{slug:"UIView-uiview-shadow",title:"UIView圆角阴影",date:"2020-08-14T00:00:00.000Z"},next:{slug:"Java-Collection及其衍生",date:"2020-10-23T06:09:35.000Z",title:"Collection及其衍生"},scrollTop:j,sideCategory:[{folderName:"杂记",articles:[{slug:"杂记-FAST FW150US 网卡驱动",title:"FAST FW150US 网卡驱动（mac）",date:"2016-06-20 14:21",path:"\u002Fwiki\u002F杂记\u002F杂记-FAST FW150US 网卡驱动"},{slug:"杂记-hugo中使用思维导图",title:"hugo中使用思维导图",date:"2020-05-09T00:00:00.000Z",path:"\u002Fwiki\u002F杂记\u002F杂记-hugo中使用思维导图"},{slug:"杂记-micosoft-remove-desktop-cannot-cpoy",title:"micosoft remove desktop：无法向服务器拷贝文件解决",date:k,path:"\u002Fwiki\u002F杂记\u002F杂记-micosoft-remove-desktop-cannot-cpoy"},{slug:"杂记-sRGB和Adobe RGB的区别",title:"sRGB和Adobe RGB的区别",date:"2017-08-09T08:45:49.000Z",path:"\u002Fwiki\u002F杂记\u002F杂记-sRGB和Adobe RGB的区别"},{slug:c,date:d,title:e,path:h},{slug:"杂记-利用七牛发布iOS内测ipa包",title:"利用七牛发布iOS内测ipa包",date:"2016-06-16 17:15",path:"\u002Fwiki\u002F杂记\u002F杂记-利用七牛发布iOS内测ipa包"},{slug:"杂记-月入万刀",date:"2020-10-23T09:13:27.000Z",title:"月入万刀",path:"\u002Fwiki\u002F杂记\u002F杂记-月入万刀"},{slug:"杂记-精度问题的始与终",title:"精度问题的始与终",date:"2017-08-04T14:33:19.000Z",path:"\u002Fwiki\u002F杂记\u002F杂记-精度问题的始与终"},{slug:"杂记-读取rtsp协议的摄像头",title:"读取rtsp协议的摄像头",date:"2017-06-20 14:21",path:"\u002Fwiki\u002F杂记\u002F杂记-读取rtsp协议的摄像头"}],children:[{folderName:"数字图像处理",articles:[{slug:"数字图像处理-gamma",title:"gamma",date:"2017-07-23T00:00:00.000Z",path:"\u002Fwiki\u002F杂记\u002F数字图像处理\u002F数字图像处理-gamma"},{slug:"数字图像处理-openCV参考资料",title:"openCV参考资料",date:"2017-07-20T16:03:59.000Z",path:"\u002Fwiki\u002F杂记\u002F数字图像处理\u002F数字图像处理-openCV参考资料"}],children:[]},{folderName:"数据结构与算法之美",articles:[{slug:"数据结构与算法之美-算法复杂度分析",title:"2、算法复杂度分析",date:"2018-11-09T20:16:12.000Z",path:"\u002Fwiki\u002F杂记\u002F数据结构与算法之美\u002F数据结构与算法之美-算法复杂度分析"}],children:[]},{folderName:"软考",articles:[{slug:"软考-software-ex1",title:"1.笔记",date:k,path:"\u002Fwiki\u002F杂记\u002F软考\u002F软考-software-ex1"}],children:[]}]}]}],fetch:{},mutations:j}}("element","text","杂记-wiki页面的md文件整理","2020-10-23T03:54:48.000Z","Wiki页面的md文件整理","p","\n","\u002Fwiki\u002F杂记\u002F杂记-wiki页面的md文件整理","2021-09-23T13:46:58.888Z",void 0,"2019-04-25T00:00:00.000Z")));